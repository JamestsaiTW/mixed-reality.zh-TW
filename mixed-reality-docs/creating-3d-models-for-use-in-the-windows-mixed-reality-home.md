---
title: 建立要在首頁中使用的3D 模型
description: 適用于在 HoloLens 和沉浸式（VR）耳機的 Windows Mixed Reality 首頁中使用的3D 模型的資產需求和撰寫指導方針。
author: thmignon
ms.author: thmignon
ms.date: 03/21/2018
ms.topic: article
keywords: 3D，模型化，指南，資產需求，撰寫方針，啟動器，3D 啟動器，材質，材質，複雜度，三角形，網格，多邊形，polycount，限制
ms.openlocfilehash: 536fd9bc2002d679ee3bf73d5c906b84c51e5d46
ms.sourcegitcommit: 0a1af2224c9cbb34591b6cb01159b60b37dfff0c
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/14/2020
ms.locfileid: "79375625"
---
# <a name="create-3d-models-for-use-in-the-home"></a><span data-ttu-id="ff90d-104">建立要在首頁中使用的3D 模型</span><span class="sxs-lookup"><span data-stu-id="ff90d-104">Create 3D models for use in the home</span></span>

<span data-ttu-id="ff90d-105">[Windows Mixed Reality home](navigating-the-windows-mixed-reality-home.md)是使用者在啟動應用程式之前所居住的起點。</span><span class="sxs-lookup"><span data-stu-id="ff90d-105">The [Windows Mixed Reality home](navigating-the-windows-mixed-reality-home.md) is the starting point where users land before launching applications.</span></span> <span data-ttu-id="ff90d-106">您可以為 Windows Mixed Reality 耳機設計應用程式，以將[3d 模型作為應用程式啟動器](implementing-3d-app-launchers.md)，並允許將[3d 深層連結放入應用程式內的 Windows Mixed Reality 首頁](implementing-3d-app-launchers.md#3d-deep-links-secondarytiles)。</span><span class="sxs-lookup"><span data-stu-id="ff90d-106">You can design your application for Windows Mixed Reality headsets to leverage a [3D model as an app launcher](implementing-3d-app-launchers.md) and to allow [3D deep links to be placed into the Windows Mixed Reality home](implementing-3d-app-launchers.md#3d-deep-links-secondarytiles) from within your app.</span></span> <span data-ttu-id="ff90d-107">本文概述建立與 Windows Mixed Reality 首頁相容之3D 模型的指導方針。</span><span class="sxs-lookup"><span data-stu-id="ff90d-107">This article outlines the guidelines for creating 3D models compatible with the Windows Mixed Reality home.</span></span>

## <a name="asset-requirements-overview"></a><span data-ttu-id="ff90d-108">資產需求總覽</span><span class="sxs-lookup"><span data-stu-id="ff90d-108">Asset requirements overview</span></span>
<span data-ttu-id="ff90d-109">建立適用于 Windows Mixed Reality 的3D 模型時，所有資產都必須符合下列需求：</span><span class="sxs-lookup"><span data-stu-id="ff90d-109">When creating 3D models for Windows Mixed Reality there are some requirements that all assets must meet:</span></span> 
1. <span data-ttu-id="ff90d-110">[匯出](#exporting-models)-資產必須以 glb 檔案格式傳遞（二進位 glTF）</span><span class="sxs-lookup"><span data-stu-id="ff90d-110">[Exporting](#exporting-models) - Assets must be delivered in the .glb file format (binary glTF)</span></span>
2. <span data-ttu-id="ff90d-111">[模型](#modeling-guidelines)-資產必須小於10k 三角形、每個 LOD 不超過64個節點和 32 submeshes</span><span class="sxs-lookup"><span data-stu-id="ff90d-111">[Modeling](#modeling-guidelines) - Assets must be less than 10k triangles, have no more than 64 nodes and 32 submeshes per LOD</span></span>
3. <span data-ttu-id="ff90d-112">[材質-材質](#material-guidelines)不能大於 4096 x 4096，且最小 mip 對應在任一維度上都不能大於4</span><span class="sxs-lookup"><span data-stu-id="ff90d-112">[Materials](#material-guidelines) - Textures cannot be larger than 4096 x 4096 and the smallest mip map should be no larger than 4 on either dimension</span></span>
4. <span data-ttu-id="ff90d-113">[動畫](#animation-guidelines)-動畫的長度不能超過20分鐘 30 FPS （36000主要畫面），而且必須包含 < = 8192 的變形目標頂點</span><span class="sxs-lookup"><span data-stu-id="ff90d-113">[Animation](#animation-guidelines) - Animations cannot be longer than 20 minutes at 30 FPS (36,000 keyframes) and must contain <= 8192 morph target vertices</span></span>
5. <span data-ttu-id="ff90d-114">[優化](#optimizations)-資產應該使用[WindowsMRAssetConverter](https://github.com/Microsoft/glTF-Toolkit/releases)來優化。</span><span class="sxs-lookup"><span data-stu-id="ff90d-114">[Optimizing](#optimizations) - Assets should be optimized using the [WindowsMRAssetConverter](https://github.com/Microsoft/glTF-Toolkit/releases).</span></span> <span data-ttu-id="ff90d-115">這**在 WINDOWS 作業系統版本上是必要的 < = 1709** ，建議在 windows 作業系統版本 > = 1803</span><span class="sxs-lookup"><span data-stu-id="ff90d-115">This is **required on Windows OS Versions <= 1709** and recommended on Windows OS versions >= 1803</span></span>

<span data-ttu-id="ff90d-116">本文的其餘部分包含這些需求的詳細總覽，以及額外的指導方針，以確保您的模型適用于 Windows Mixed Reality 首頁。</span><span class="sxs-lookup"><span data-stu-id="ff90d-116">The rest of this article includes a detailed overview of these requirements as well as additional guidelines to ensure your models work well with the Windows Mixed Reality home.</span></span> 

## <a name="detailed-guidance"></a><span data-ttu-id="ff90d-117">詳細指引</span><span class="sxs-lookup"><span data-stu-id="ff90d-117">Detailed guidance</span></span>

### <a name="exporting-models"></a><span data-ttu-id="ff90d-118">匯出模型</span><span class="sxs-lookup"><span data-stu-id="ff90d-118">Exporting models</span></span>

<span data-ttu-id="ff90d-119">Windows Mixed Reality home 需要使用 glb 檔案格式搭配內嵌影像和二進位資料來傳遞3D 資產。</span><span class="sxs-lookup"><span data-stu-id="ff90d-119">The Windows Mixed Reality home expects 3D assets to be delivered using the .glb file format with embedded images and binary data.</span></span> <span data-ttu-id="ff90d-120">Glb 是 glTF 格式的二進位版本，這是由 Khronos 群組維護之3D 資產傳遞的免費專利標準。</span><span class="sxs-lookup"><span data-stu-id="ff90d-120">Glb is the binary version of the glTF format which is a royalty free open standard for 3D asset delivery maintained by the Khronos group.</span></span> <span data-ttu-id="ff90d-121">隨著 glTF 發展為可互通3D 內容的業界標準，Microsoft 也會支援跨 Windows 應用程式和體驗的格式。</span><span class="sxs-lookup"><span data-stu-id="ff90d-121">As glTF evolves as an industry standard for interoperable 3D content so will Microsoft’s support for the format across Windows apps and experiences.</span></span> <span data-ttu-id="ff90d-122">如果您尚未建立 glTF 資產，您就可以在 glTF 工作群組 github 頁面上找到[支援的匯出工具和轉換器清單](https://github.com/KhronosGroup/glTF/blob/master/README.md#converters-and-exporters)。</span><span class="sxs-lookup"><span data-stu-id="ff90d-122">If you haven't created a glTF asset before you can find a [list of supported exporters and converters](https://github.com/KhronosGroup/glTF/blob/master/README.md#converters-and-exporters) on the glTF working group github page.</span></span>  

### <a name="modeling-guidelines"></a><span data-ttu-id="ff90d-123">模型化方針</span><span class="sxs-lookup"><span data-stu-id="ff90d-123">Modeling guidelines</span></span>

<span data-ttu-id="ff90d-124">Windows 預期會使用下列模型化指導方針來產生資產，以確保與混合現實家庭體驗的相容性。</span><span class="sxs-lookup"><span data-stu-id="ff90d-124">Windows expects assets to be generated using the following modeling guidelines to ensure compatibility with the Mixed Reality home experience.</span></span> <span data-ttu-id="ff90d-125">當您選擇的程式模型化時，請記住下列建議和限制：</span><span class="sxs-lookup"><span data-stu-id="ff90d-125">When modeling in your program of your choice keep in mind the following recommendations and limitations:</span></span>
1. <span data-ttu-id="ff90d-126">向上軸應該設定為 "Y"。</span><span class="sxs-lookup"><span data-stu-id="ff90d-126">The Up axis should be set to “Y”.</span></span>
2. <span data-ttu-id="ff90d-127">資產應該朝正 Z 軸「順向」。</span><span class="sxs-lookup"><span data-stu-id="ff90d-127">The asset should face “forward” towards the positive Z axis.</span></span>
3. <span data-ttu-id="ff90d-128">所有資產都應建置於場景原點的地面（0，0，0）</span><span class="sxs-lookup"><span data-stu-id="ff90d-128">All assets should be built on the ground plane at the scene origin (0,0,0)</span></span>
4. <span data-ttu-id="ff90d-129">工作單位應設定為計量和資產，讓資產能夠以全球規模撰寫</span><span class="sxs-lookup"><span data-stu-id="ff90d-129">Working Units should be set to meters and assets so that assets can be authored at world scale</span></span>
5. <span data-ttu-id="ff90d-130">所有的網格都不需要合併，但如果您的目標是資源受限裝置，則建議使用此選項。</span><span class="sxs-lookup"><span data-stu-id="ff90d-130">All meshes do not need to be combined but it is recommended if you are targeting resource constrained devices</span></span>
6. <span data-ttu-id="ff90d-131">所有的網格都應該共用1個材質，其中只有1個材質集用於整個資產</span><span class="sxs-lookup"><span data-stu-id="ff90d-131">All meshes should share 1 material, with only 1 texture set being used for the whole asset</span></span>
7. <span data-ttu-id="ff90d-132">UVs 必須以0-1 空間中的正方形排列來配置。</span><span class="sxs-lookup"><span data-stu-id="ff90d-132">UVs must be laid out in a square arrangement in the 0-1 space.</span></span> <span data-ttu-id="ff90d-133">避免並排材質，但允許使用。</span><span class="sxs-lookup"><span data-stu-id="ff90d-133">Avoid tiling textures although they are permitted.</span></span>
8. <span data-ttu-id="ff90d-134">不支援多 UVs</span><span class="sxs-lookup"><span data-stu-id="ff90d-134">Multi-UVs are not supported</span></span>
9. <span data-ttu-id="ff90d-135">不支援雙面材質</span><span class="sxs-lookup"><span data-stu-id="ff90d-135">Double sided materials are not supported</span></span>

### <a name="triangle-counts-and-levels-of-detail-lods"></a><span data-ttu-id="ff90d-136">三角形計數和詳細資料層級（LODs）</span><span class="sxs-lookup"><span data-stu-id="ff90d-136">Triangle counts and levels of detail (LODs)</span></span>

<span data-ttu-id="ff90d-137">Windows Mixed Reality home 不支援具有超過10000三角形的型號。</span><span class="sxs-lookup"><span data-stu-id="ff90d-137">The Windows Mixed Reality home does not support models with more than 10,000 triangles.</span></span> <span data-ttu-id="ff90d-138">建議您先分成三角形您的網格再進行匯出，以確保它們不會超過此計數。</span><span class="sxs-lookup"><span data-stu-id="ff90d-138">It’s recommended that you triangulate your meshes before exporting to ensure that they do not exceed this count.</span></span> <span data-ttu-id="ff90d-139">Windows MR 也支援選擇性幾何層級的詳細資料（LODs），以確保效能和高品質的體驗。</span><span class="sxs-lookup"><span data-stu-id="ff90d-139">Windows MR also supports optional geometry levels of detail (LODs) to ensure a performant and high-quality experience.</span></span> <span data-ttu-id="ff90d-140">[WindowsMRAssetConverter](https://github.com/Microsoft/glTF-Toolkit/releases)將協助您將模型的3個版本結合成單一的 glb 模型。</span><span class="sxs-lookup"><span data-stu-id="ff90d-140">[The WindowsMRAssetConverter](https://github.com/Microsoft/glTF-Toolkit/releases) will help you combine 3 versions of your model into a single .glb model.</span></span> <span data-ttu-id="ff90d-141">Windows 會根據模型所佔用的畫面實際資產量，決定要顯示的 LOD。</span><span class="sxs-lookup"><span data-stu-id="ff90d-141">Windows determines which LOD to display based on the amount of screen real estate the model is taking up.</span></span> <span data-ttu-id="ff90d-142">僅支援3個 LOD 層級，並具有下列建議的三角形計數：</span><span class="sxs-lookup"><span data-stu-id="ff90d-142">Only 3 LOD levels are supported with the following recommended triangle counts:</span></span>
<br>

|  <span data-ttu-id="ff90d-143">LOD 層級</span><span class="sxs-lookup"><span data-stu-id="ff90d-143">LOD Level</span></span>  |  <span data-ttu-id="ff90d-144">建議的三角形計數</span><span class="sxs-lookup"><span data-stu-id="ff90d-144">Recommended Triangle Count</span></span>  |  <span data-ttu-id="ff90d-145">最大三角形計數</span><span class="sxs-lookup"><span data-stu-id="ff90d-145">Max Triangle Count</span></span> | 
|------|------|------|
|  <span data-ttu-id="ff90d-146">LOD 0</span><span class="sxs-lookup"><span data-stu-id="ff90d-146">LOD 0</span></span> |  <span data-ttu-id="ff90d-147">10000</span><span class="sxs-lookup"><span data-stu-id="ff90d-147">10,000</span></span> |  <span data-ttu-id="ff90d-148">10000</span><span class="sxs-lookup"><span data-stu-id="ff90d-148">10,000</span></span> | 
|  <span data-ttu-id="ff90d-149">LOD 1</span><span class="sxs-lookup"><span data-stu-id="ff90d-149">LOD 1</span></span> |  <span data-ttu-id="ff90d-150">5,000</span><span class="sxs-lookup"><span data-stu-id="ff90d-150">5,000</span></span>  |  <span data-ttu-id="ff90d-151">10000</span><span class="sxs-lookup"><span data-stu-id="ff90d-151">10,000</span></span> | 
|  <span data-ttu-id="ff90d-152">LOD 2</span><span class="sxs-lookup"><span data-stu-id="ff90d-152">LOD 2</span></span> |  <span data-ttu-id="ff90d-153">2500</span><span class="sxs-lookup"><span data-stu-id="ff90d-153">2,500</span></span>  |  <span data-ttu-id="ff90d-154">10000</span><span class="sxs-lookup"><span data-stu-id="ff90d-154">10,000</span></span> | 

### <a name="node-counts-and-submesh-limits"></a><span data-ttu-id="ff90d-155">節點計數和 submesh 限制</span><span class="sxs-lookup"><span data-stu-id="ff90d-155">Node counts and submesh limits</span></span>
<span data-ttu-id="ff90d-156">Windows Mixed Reality home 不支援每個 LOD 具有超過64個節點或 32 submeshes 的模型。</span><span class="sxs-lookup"><span data-stu-id="ff90d-156">The Windows Mixed Reality home does not support models with more than 64 nodes or 32 submeshes per LOD.</span></span> <span data-ttu-id="ff90d-157">節點是[glTF 規格](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy)中的概念，可定義場景中的物件。</span><span class="sxs-lookup"><span data-stu-id="ff90d-157">Nodes are a concept in the [glTF specification](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy) that define the objects in the scene.</span></span> <span data-ttu-id="ff90d-158">Submeshes 是在物件的網格的[基本](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#meshes)陣列中定義。</span><span class="sxs-lookup"><span data-stu-id="ff90d-158">Submeshes are defined in the array of [primitives](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#meshes) on the mesh in the object.</span></span> 

|  <span data-ttu-id="ff90d-159">功能</span><span class="sxs-lookup"><span data-stu-id="ff90d-159">Feature</span></span> |  <span data-ttu-id="ff90d-160">描述</span><span class="sxs-lookup"><span data-stu-id="ff90d-160">Description</span></span>  |  <span data-ttu-id="ff90d-161">支援的最大值</span><span class="sxs-lookup"><span data-stu-id="ff90d-161">Max Supported</span></span> | <span data-ttu-id="ff90d-162">文件</span><span class="sxs-lookup"><span data-stu-id="ff90d-162">Documentation</span></span> |
|------|------|------|------|
|  <span data-ttu-id="ff90d-163">節點</span><span class="sxs-lookup"><span data-stu-id="ff90d-163">Nodes</span></span> |  <span data-ttu-id="ff90d-164">GlTF 場景中的物件</span><span class="sxs-lookup"><span data-stu-id="ff90d-164">Objects in the glTF Scene</span></span> |  <span data-ttu-id="ff90d-165">每 LOD 64</span><span class="sxs-lookup"><span data-stu-id="ff90d-165">64 per LOD</span></span> | [<span data-ttu-id="ff90d-166">如下</span><span class="sxs-lookup"><span data-stu-id="ff90d-166">Here</span></span>](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy)|
|  <span data-ttu-id="ff90d-167">Submeshes</span><span class="sxs-lookup"><span data-stu-id="ff90d-167">Submeshes</span></span> |  <span data-ttu-id="ff90d-168">所有網格的基本類型總和</span><span class="sxs-lookup"><span data-stu-id="ff90d-168">Sum of primitives on all meshes</span></span> |  <span data-ttu-id="ff90d-169">每 LOD 32</span><span class="sxs-lookup"><span data-stu-id="ff90d-169">32 per LOD</span></span> | [<span data-ttu-id="ff90d-170">如下</span><span class="sxs-lookup"><span data-stu-id="ff90d-170">Here</span></span>](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#meshes)|

## <a name="material-guidelines"></a><span data-ttu-id="ff90d-171">材料指導方針</span><span class="sxs-lookup"><span data-stu-id="ff90d-171">Material guidelines</span></span>

<span data-ttu-id="ff90d-172">材質應使用 .PBR 金屬粗糙度工作流程來準備。</span><span class="sxs-lookup"><span data-stu-id="ff90d-172">Textures should be prepared using a PBR metal roughness workflow.</span></span> <span data-ttu-id="ff90d-173">一開始先建立一組完整的紋理，包括 Albedo、Normal、遮蔽、金屬和粗糙度。</span><span class="sxs-lookup"><span data-stu-id="ff90d-173">Begin by creating a full set of textures including Albedo, Normal, Occlusion, Metallic, and Roughness.</span></span> <span data-ttu-id="ff90d-174">Windows Mixed Reality 支援最多4096x4096 的材質，但建議您在512x512 撰寫。</span><span class="sxs-lookup"><span data-stu-id="ff90d-174">Windows Mixed Reality supports textures with resolutions up to 4096x4096 but its recommended that you author at 512x512.</span></span> <span data-ttu-id="ff90d-175">此外，材質應以4的倍數撰寫，因為這是在匯出步驟中套用至紋理的壓縮格式需求，如下所述。</span><span class="sxs-lookup"><span data-stu-id="ff90d-175">Additionally textures should be authored at resolutions in multiples of 4 as this is a requirement for the compression format applied to textures in the exporting steps outlined below.</span></span> <span data-ttu-id="ff90d-176">最後，產生 mip 對應或材質時，最低 mip 必須是最大4x4。</span><span class="sxs-lookup"><span data-stu-id="ff90d-176">Finally, when generating mip maps or a texture the lowest mip must be a maximum of 4x4.</span></span>
<br>

|  <span data-ttu-id="ff90d-177">建議的材質大小</span><span class="sxs-lookup"><span data-stu-id="ff90d-177">Recommended Texture Size</span></span>  |  <span data-ttu-id="ff90d-178">最大材質大小</span><span class="sxs-lookup"><span data-stu-id="ff90d-178">Max Texture Size</span></span> | <span data-ttu-id="ff90d-179">最低 Mip</span><span class="sxs-lookup"><span data-stu-id="ff90d-179">Lowest Mip</span></span>
|----|----|----|
|  <span data-ttu-id="ff90d-180">512x512</span><span class="sxs-lookup"><span data-stu-id="ff90d-180">512x512</span></span>  |  <span data-ttu-id="ff90d-181">4096x4096</span><span class="sxs-lookup"><span data-stu-id="ff90d-181">4096x4096</span></span> | <span data-ttu-id="ff90d-182">最大4x4</span><span class="sxs-lookup"><span data-stu-id="ff90d-182">max 4x4</span></span>|

### <a name="albedo-base-color-map"></a><span data-ttu-id="ff90d-183">Albedo （基底色彩）地圖</span><span class="sxs-lookup"><span data-stu-id="ff90d-183">Albedo (base color) map</span></span>

<span data-ttu-id="ff90d-184">沒有光源資訊的原始色彩。</span><span class="sxs-lookup"><span data-stu-id="ff90d-184">Raw color with no lighting information.</span></span> <span data-ttu-id="ff90d-185">此地圖也包含金屬的 reflectance 和擴散資訊（金屬地圖中的白色）和 insulator （金屬地圖中的黑色）介面。</span><span class="sxs-lookup"><span data-stu-id="ff90d-185">This map also contains the reflectance and diffuse information for metal (white in the metallic map) and insulator (black in the metallic map) surfaces respectively.</span></span>

### <a name="normal"></a><span data-ttu-id="ff90d-186">一般</span><span class="sxs-lookup"><span data-stu-id="ff90d-186">Normal</span></span>

<span data-ttu-id="ff90d-187">正切空格法線對應</span><span class="sxs-lookup"><span data-stu-id="ff90d-187">Tangent Space Normal map</span></span>

### <a name="roughness-map"></a><span data-ttu-id="ff90d-188">粗糙度地圖</span><span class="sxs-lookup"><span data-stu-id="ff90d-188">Roughness map</span></span>

<span data-ttu-id="ff90d-189">描述物件的 microsurface。</span><span class="sxs-lookup"><span data-stu-id="ff90d-189">Describes the microsurface of the object.</span></span> <span data-ttu-id="ff90d-190">白色1.0 是粗略的黑色0.0。</span><span class="sxs-lookup"><span data-stu-id="ff90d-190">White 1.0 is rough Black 0.0 is smooth.</span></span> <span data-ttu-id="ff90d-191">此地圖會為資產提供最大的字元，因為它真正描述了表面，例如劃痕、指紋、塗抹、grime 等等。</span><span class="sxs-lookup"><span data-stu-id="ff90d-191">This map gives the asset the most character as it truly describes the surface e.g. scratches, fingerprints, smudges, grime etc.</span></span>

### <a name="ambient-occlusion-map"></a><span data-ttu-id="ff90d-192">環境遮蔽地圖</span><span class="sxs-lookup"><span data-stu-id="ff90d-192">Ambient occlusion map</span></span>

<span data-ttu-id="ff90d-193">描述會封鎖反射之 pixels occluded light 區域的值縮放地圖</span><span class="sxs-lookup"><span data-stu-id="ff90d-193">Value scale map depicting areas of occluded light which blocks reflections</span></span>

### <a name="metallic-map"></a><span data-ttu-id="ff90d-194">金屬圖</span><span class="sxs-lookup"><span data-stu-id="ff90d-194">Metallic map</span></span>

<span data-ttu-id="ff90d-195">如果某個專案為金屬，則告訴著色器。</span><span class="sxs-lookup"><span data-stu-id="ff90d-195">Tells the shader if something is metal or not.</span></span> <span data-ttu-id="ff90d-196">原始金屬 = 1.0 白色非金屬 = 0.0 黑色。</span><span class="sxs-lookup"><span data-stu-id="ff90d-196">Raw Metal = 1.0 white Non metal = 0.0 black.</span></span> <span data-ttu-id="ff90d-197">可能會有一些過渡的灰色值，表示涵蓋原始金屬的東西（例如灰塵），但一般而言，此地圖應該只有黑色和白色。</span><span class="sxs-lookup"><span data-stu-id="ff90d-197">There can be transitional gray values that indicate something covering the raw metal such as dirt, but in general this map should be black and white only.</span></span>

## <a name="optimizations"></a><span data-ttu-id="ff90d-198">優化</span><span class="sxs-lookup"><span data-stu-id="ff90d-198">Optimizations</span></span>

<span data-ttu-id="ff90d-199">Windows Mixed Reality home 在使用自訂延伸模組定義的核心 glTF 規格之上，提供一系列的優化。</span><span class="sxs-lookup"><span data-stu-id="ff90d-199">Windows Mixed Reality home offers a series of optimizations on top of the core glTF spec defined using custom extensions.</span></span> <span data-ttu-id="ff90d-200">Windows 版本需要這些優化 < = 1709，而且建議在較新版本的 Windows 上使用。</span><span class="sxs-lookup"><span data-stu-id="ff90d-200">These optimizations are required on Windows versions <= 1709 and recommended on newer versions of Windows.</span></span> <span data-ttu-id="ff90d-201">您可以使用[GitHub 上提供的 Windows Mixed Reality 資產轉換器](https://github.com/Microsoft/glTF-Toolkit/releases)，輕鬆地將任何 glTF 2.0 模型優化。</span><span class="sxs-lookup"><span data-stu-id="ff90d-201">You can easily optimize any glTF 2.0 model using the [Windows Mixed Reality Asset Converter available on GitHub](https://github.com/Microsoft/glTF-Toolkit/releases).</span></span> <span data-ttu-id="ff90d-202">此工具會執行正確的紋理封裝和優化，如下所示。</span><span class="sxs-lookup"><span data-stu-id="ff90d-202">This tool will perform the correct texture packing and optimizations as specified below.</span></span> <span data-ttu-id="ff90d-203">在一般情況下，我們建議使用 WindowsMRAssetConverter，但如果您需要更充分掌控經驗，而且想要建立您自己的優化管線，您可以參考下面的詳細規格。</span><span class="sxs-lookup"><span data-stu-id="ff90d-203">For general usage we recommend using the WindowsMRAssetConverter, but if you need more control over the experience and would like to build your own optimization pipeline then you can refer to the detailed specification below.</span></span>  

### <a name="materials"></a><span data-ttu-id="ff90d-204">涉及</span><span class="sxs-lookup"><span data-stu-id="ff90d-204">Materials</span></span>

<span data-ttu-id="ff90d-205">為了改善混合現實環境中的資產載入時間，Windows MR 支援根據本節中定義的材質封裝配置來轉譯壓縮的 DDS 材質。</span><span class="sxs-lookup"><span data-stu-id="ff90d-205">To improve asset loading time in Mixed Reality environments Windows MR supports rendering compressed DDS textures packed according to the texture packing scheme defined in this section.</span></span> <span data-ttu-id="ff90d-206">使用[MSFT_texture_dds 延伸](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_texture_dds)模組來參考 DDS 材質。</span><span class="sxs-lookup"><span data-stu-id="ff90d-206">DDS textures are referenced using the [MSFT_texture_dds extension](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_texture_dds).</span></span> <span data-ttu-id="ff90d-207">強烈建議您壓縮紋理。</span><span class="sxs-lookup"><span data-stu-id="ff90d-207">Compressing textures is highly recommended.</span></span> 

#### <a name="hololens"></a><span data-ttu-id="ff90d-208">HoloLens</span><span class="sxs-lookup"><span data-stu-id="ff90d-208">HoloLens</span></span>

<span data-ttu-id="ff90d-209">HoloLens 型混合現實體驗使用下列封裝規格，透過2個材質設定來封裝紋理：</span><span class="sxs-lookup"><span data-stu-id="ff90d-209">HoloLens-based mixed reality experiences expect textures to be packed using a 2-texture setup using the following packing specification:</span></span>
<br>

|  <span data-ttu-id="ff90d-210">glTF 屬性</span><span class="sxs-lookup"><span data-stu-id="ff90d-210">glTF Property</span></span>  |  <span data-ttu-id="ff90d-211">層</span><span class="sxs-lookup"><span data-stu-id="ff90d-211">Texture</span></span>  |  <span data-ttu-id="ff90d-212">封裝配置</span><span class="sxs-lookup"><span data-stu-id="ff90d-212">Packing Scheme</span></span> | 
|----------|----------|----------|
|  <span data-ttu-id="ff90d-213">pbrMetallicRoughness</span><span class="sxs-lookup"><span data-stu-id="ff90d-213">pbrMetallicRoughness</span></span>  |  <span data-ttu-id="ff90d-214">baseColorTexture</span><span class="sxs-lookup"><span data-stu-id="ff90d-214">baseColorTexture</span></span>  |  <span data-ttu-id="ff90d-215">紅色（R）、綠色（G）、藍色（B）</span><span class="sxs-lookup"><span data-stu-id="ff90d-215">Red (R), Green (G), Blue (B)</span></span> | 
|  [<span data-ttu-id="ff90d-216">MSFT_packing_normalRoughnessMetallic</span><span class="sxs-lookup"><span data-stu-id="ff90d-216">MSFT_packing_normalRoughnessMetallic</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_normalRoughnessMetallic/README.md)  |  <span data-ttu-id="ff90d-217">normalRoughnessMetallicTexture</span><span class="sxs-lookup"><span data-stu-id="ff90d-217">normalRoughnessMetallicTexture</span></span>  |  <span data-ttu-id="ff90d-218">標準（RG）、粗糙度（B）、金屬（A）</span><span class="sxs-lookup"><span data-stu-id="ff90d-218">Normal (RG), Roughness (B), Metallic (A)</span></span> | 


<span data-ttu-id="ff90d-219">壓縮 DDS 材質時，每個對應上預期會有下列壓縮：</span><span class="sxs-lookup"><span data-stu-id="ff90d-219">When compressing the DDS textures the following compression is expected on each map:</span></span>
<br>

|  <span data-ttu-id="ff90d-220">層</span><span class="sxs-lookup"><span data-stu-id="ff90d-220">Texture</span></span>  |  <span data-ttu-id="ff90d-221">預期的壓縮</span><span class="sxs-lookup"><span data-stu-id="ff90d-221">Expected Compression</span></span> | 
|------|------|
|  <span data-ttu-id="ff90d-222">baseColorTexture, normalRoughnessMetallicTexture</span><span class="sxs-lookup"><span data-stu-id="ff90d-222">baseColorTexture, normalRoughnessMetallicTexture</span></span> |  <span data-ttu-id="ff90d-223">BC7</span><span class="sxs-lookup"><span data-stu-id="ff90d-223">BC7</span></span> | 

#### <a name="immersive-vr-headsets"></a><span data-ttu-id="ff90d-224">沉浸式（VR）耳機</span><span class="sxs-lookup"><span data-stu-id="ff90d-224">Immersive (VR) headsets</span></span>

<span data-ttu-id="ff90d-225">以電腦為基礎的沉浸式 Windows Mixed Reality 使用經驗（VR）耳機會使用下列封裝規格，透過3個材質設定來封裝紋理：</span><span class="sxs-lookup"><span data-stu-id="ff90d-225">PC-based Windows Mixed Reality experiences for immersive (VR) headsets expect textures to be packed using a 3-texture setup using the following packing specification:</span></span>

##### <a name="windows-os--1803"></a><span data-ttu-id="ff90d-226">Windows 作業系統 > = 1803</span><span class="sxs-lookup"><span data-stu-id="ff90d-226">Windows OS >= 1803</span></span>

<br>

|  <span data-ttu-id="ff90d-227">glTF 屬性</span><span class="sxs-lookup"><span data-stu-id="ff90d-227">glTF Property</span></span>  |  <span data-ttu-id="ff90d-228">層</span><span class="sxs-lookup"><span data-stu-id="ff90d-228">Texture</span></span>  |  <span data-ttu-id="ff90d-229">封裝配置</span><span class="sxs-lookup"><span data-stu-id="ff90d-229">Packing Scheme</span></span> | 
|----------|----------|----------|
|  <span data-ttu-id="ff90d-230">pbrMetallicRoughness</span><span class="sxs-lookup"><span data-stu-id="ff90d-230">pbrMetallicRoughness</span></span>  |  <span data-ttu-id="ff90d-231">baseColorTexture</span><span class="sxs-lookup"><span data-stu-id="ff90d-231">baseColorTexture</span></span>  |  <span data-ttu-id="ff90d-232">紅色（R）、綠色（G）、藍色（B）</span><span class="sxs-lookup"><span data-stu-id="ff90d-232">Red (R), Green (G), Blue (B)</span></span> | 
|  [<span data-ttu-id="ff90d-233">MSFT_packing_occlusionRoughnessMetallic</span><span class="sxs-lookup"><span data-stu-id="ff90d-233">MSFT_packing_occlusionRoughnessMetallic</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_occlusionRoughnessMetallic/README.md)  |  <span data-ttu-id="ff90d-234">occlusionRoughnessMetallicTexture</span><span class="sxs-lookup"><span data-stu-id="ff90d-234">occlusionRoughnessMetallicTexture</span></span>  |  <span data-ttu-id="ff90d-235">遮蔽（R）、粗糙度（G）、金屬（B）</span><span class="sxs-lookup"><span data-stu-id="ff90d-235">Occlusion (R), Roughness (G), Metallic (B)</span></span> | 
|  [<span data-ttu-id="ff90d-236">MSFT_packing_occlusionRoughnessMetallic</span><span class="sxs-lookup"><span data-stu-id="ff90d-236">MSFT_packing_occlusionRoughnessMetallic</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_occlusionRoughnessMetallic/README.md)  |  <span data-ttu-id="ff90d-237">normalTexture</span><span class="sxs-lookup"><span data-stu-id="ff90d-237">normalTexture</span></span>  |  <span data-ttu-id="ff90d-238">一般（RG）</span><span class="sxs-lookup"><span data-stu-id="ff90d-238">Normal (RG)</span></span> | 

<span data-ttu-id="ff90d-239">壓縮 DDS 材質時，每個對應上預期會有下列壓縮：</span><span class="sxs-lookup"><span data-stu-id="ff90d-239">When compressing the DDS textures the following compression is expected on each map:</span></span>
<br>

|  <span data-ttu-id="ff90d-240">層</span><span class="sxs-lookup"><span data-stu-id="ff90d-240">Texture</span></span>  |  <span data-ttu-id="ff90d-241">預期的壓縮</span><span class="sxs-lookup"><span data-stu-id="ff90d-241">Expected Compression</span></span> | 
|------|------|
|  <span data-ttu-id="ff90d-242">normalTexture</span><span class="sxs-lookup"><span data-stu-id="ff90d-242">normalTexture</span></span>  |  <span data-ttu-id="ff90d-243">BC5</span><span class="sxs-lookup"><span data-stu-id="ff90d-243">BC5</span></span> | 
|  <span data-ttu-id="ff90d-244">baseColorTexture, occlusionRoughnessMetallicTexture</span><span class="sxs-lookup"><span data-stu-id="ff90d-244">baseColorTexture, occlusionRoughnessMetallicTexture</span></span>  |  <span data-ttu-id="ff90d-245">BC7</span><span class="sxs-lookup"><span data-stu-id="ff90d-245">BC7</span></span> | 

##### <a name="windows-os--1709"></a><span data-ttu-id="ff90d-246">Windows 作業系統 < = 1709</span><span class="sxs-lookup"><span data-stu-id="ff90d-246">Windows OS <= 1709</span></span>
<br>

|  <span data-ttu-id="ff90d-247">glTF 屬性</span><span class="sxs-lookup"><span data-stu-id="ff90d-247">glTF Property</span></span>  |  <span data-ttu-id="ff90d-248">層</span><span class="sxs-lookup"><span data-stu-id="ff90d-248">Texture</span></span>  |  <span data-ttu-id="ff90d-249">封裝配置</span><span class="sxs-lookup"><span data-stu-id="ff90d-249">Packing Scheme</span></span> | 
|----------|----------|----------|
|  <span data-ttu-id="ff90d-250">pbrMetallicRoughness</span><span class="sxs-lookup"><span data-stu-id="ff90d-250">pbrMetallicRoughness</span></span>  |  <span data-ttu-id="ff90d-251">baseColorTexture</span><span class="sxs-lookup"><span data-stu-id="ff90d-251">baseColorTexture</span></span>  |  <span data-ttu-id="ff90d-252">紅色（R）、綠色（G）、藍色（B）</span><span class="sxs-lookup"><span data-stu-id="ff90d-252">Red (R), Green (G), Blue (B)</span></span> | 
|  [<span data-ttu-id="ff90d-253">MSFT_packing_occlusionRoughnessMetallic</span><span class="sxs-lookup"><span data-stu-id="ff90d-253">MSFT_packing_occlusionRoughnessMetallic</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_occlusionRoughnessMetallic/README.md)  |  <span data-ttu-id="ff90d-254">roughnessMetallicOcclusionTexture</span><span class="sxs-lookup"><span data-stu-id="ff90d-254">roughnessMetallicOcclusionTexture</span></span>  |  <span data-ttu-id="ff90d-255">粗糙度（R）、金屬（G）、遮蔽（B）</span><span class="sxs-lookup"><span data-stu-id="ff90d-255">Roughness (R), Metallic (G), Occlusion (B)</span></span> | 
|  [<span data-ttu-id="ff90d-256">MSFT_packing_occlusionRoughnessMetallic</span><span class="sxs-lookup"><span data-stu-id="ff90d-256">MSFT_packing_occlusionRoughnessMetallic</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_occlusionRoughnessMetallic/README.md)  |  <span data-ttu-id="ff90d-257">normalTexture</span><span class="sxs-lookup"><span data-stu-id="ff90d-257">normalTexture</span></span>  |  <span data-ttu-id="ff90d-258">一般（RG）</span><span class="sxs-lookup"><span data-stu-id="ff90d-258">Normal (RG)</span></span> | 

<span data-ttu-id="ff90d-259">壓縮 DDS 材質時，每個對應上預期會有下列壓縮：</span><span class="sxs-lookup"><span data-stu-id="ff90d-259">When compressing the DDS textures the following compression is expected on each map:</span></span>
<br>

|  <span data-ttu-id="ff90d-260">層</span><span class="sxs-lookup"><span data-stu-id="ff90d-260">Texture</span></span>  |  <span data-ttu-id="ff90d-261">預期的壓縮</span><span class="sxs-lookup"><span data-stu-id="ff90d-261">Expected Compression</span></span> | 
|------|------|
|  <span data-ttu-id="ff90d-262">normalTexture</span><span class="sxs-lookup"><span data-stu-id="ff90d-262">normalTexture</span></span>  |  <span data-ttu-id="ff90d-263">BC5</span><span class="sxs-lookup"><span data-stu-id="ff90d-263">BC5</span></span> | 
|  <span data-ttu-id="ff90d-264">baseColorTexture, roughnessMetallicOcclusionTexture</span><span class="sxs-lookup"><span data-stu-id="ff90d-264">baseColorTexture, roughnessMetallicOcclusionTexture</span></span> | <span data-ttu-id="ff90d-265">BC7</span><span class="sxs-lookup"><span data-stu-id="ff90d-265">BC7</span></span> |

### <a name="adding-mesh-lods"></a><span data-ttu-id="ff90d-266">新增網格 LODs</span><span class="sxs-lookup"><span data-stu-id="ff90d-266">Adding mesh LODs</span></span>

<span data-ttu-id="ff90d-267">Windows MR 使用幾何節點 LODs，根據螢幕涵蓋範圍，在不同的詳細資料層級中轉譯3D 模型。</span><span class="sxs-lookup"><span data-stu-id="ff90d-267">Windows MR uses geometry node LODs to render 3D models in different levels of detail depending on screen coverage.</span></span> <span data-ttu-id="ff90d-268">雖然在技術上並不需要這項功能，但強烈建議所有資產。</span><span class="sxs-lookup"><span data-stu-id="ff90d-268">While this feature is technically not required, it's strongly recommended for all assets.</span></span> <span data-ttu-id="ff90d-269">目前 Windows 支援三種層級的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="ff90d-269">Currently Windows supports 3 levels of detail.</span></span> <span data-ttu-id="ff90d-270">預設 LOD 為0，代表最高品質。</span><span class="sxs-lookup"><span data-stu-id="ff90d-270">The default LOD is 0, which represents the highest quality.</span></span> <span data-ttu-id="ff90d-271">其他 LODs 會依序編號，例如1，2，且品質逐漸降低。</span><span class="sxs-lookup"><span data-stu-id="ff90d-271">Other LODs are numbered sequentially, e.g. 1, 2 and get progressively lower in quality.</span></span> <span data-ttu-id="ff90d-272">[Windows Mixed Reality 資產轉換器](https://github.com/Microsoft/glTF-Toolkit/releases)支援藉由接受多個 glTF 模型並將其合併至具有有效 LOD 層級的單一資產，來產生符合此 LOD 規格的資產。</span><span class="sxs-lookup"><span data-stu-id="ff90d-272">The [Windows Mixed Reality Asset Converter](https://github.com/Microsoft/glTF-Toolkit/releases) supports generating assets that meet this LOD specification by accepting multiple glTF models and merging them into a single asset with valid LOD levels.</span></span> <span data-ttu-id="ff90d-273">下表概述預期的 LOD 順序和三角形目標：</span><span class="sxs-lookup"><span data-stu-id="ff90d-273">The following table outlines the expected LOD ordering and triangle targets:</span></span>
<br>

|  <span data-ttu-id="ff90d-274">LOD 層級</span><span class="sxs-lookup"><span data-stu-id="ff90d-274">LOD Level</span></span>  |  <span data-ttu-id="ff90d-275">建議的三角形計數</span><span class="sxs-lookup"><span data-stu-id="ff90d-275">Recommended Triangle Count</span></span>  |  <span data-ttu-id="ff90d-276">最大三角形計數</span><span class="sxs-lookup"><span data-stu-id="ff90d-276">Max Triangle Count</span></span> | 
|-------|-------|-------|
|  <span data-ttu-id="ff90d-277">LOD 0</span><span class="sxs-lookup"><span data-stu-id="ff90d-277">LOD 0</span></span> |  <span data-ttu-id="ff90d-278">10000</span><span class="sxs-lookup"><span data-stu-id="ff90d-278">10,000</span></span> |  <span data-ttu-id="ff90d-279">10000</span><span class="sxs-lookup"><span data-stu-id="ff90d-279">10,000</span></span> | 
|  <span data-ttu-id="ff90d-280">LOD 1</span><span class="sxs-lookup"><span data-stu-id="ff90d-280">LOD 1</span></span> |  <span data-ttu-id="ff90d-281">5,000</span><span class="sxs-lookup"><span data-stu-id="ff90d-281">5,000</span></span>  |  <span data-ttu-id="ff90d-282">10000</span><span class="sxs-lookup"><span data-stu-id="ff90d-282">10,000</span></span> | 
|  <span data-ttu-id="ff90d-283">LOD 2</span><span class="sxs-lookup"><span data-stu-id="ff90d-283">LOD 2</span></span> |  <span data-ttu-id="ff90d-284">2500</span><span class="sxs-lookup"><span data-stu-id="ff90d-284">2,500</span></span>  |  <span data-ttu-id="ff90d-285">10000</span><span class="sxs-lookup"><span data-stu-id="ff90d-285">10,000</span></span> | 

<span data-ttu-id="ff90d-286">使用 LODs 時，請一律指定3個 LOD 層級。</span><span class="sxs-lookup"><span data-stu-id="ff90d-286">When using LODs always specify 3 LOD levels.</span></span> <span data-ttu-id="ff90d-287">遺漏 LODs 會導致模型不會意外轉譯，因為 LOD 系統切換到遺失的 LOD 層級。</span><span class="sxs-lookup"><span data-stu-id="ff90d-287">Missing LODs will cause the model to not render unexpectedly as the LOD system switches to the missing LOD level.</span></span> <span data-ttu-id="ff90d-288">glTF 2.0 目前不支援 LODs 做為核心規格的一部分。因此，應該使用[MSFT_LOD 延伸](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_lod)模組來定義 LODs。</span><span class="sxs-lookup"><span data-stu-id="ff90d-288">glTF 2.0 does not currently support LODs as part of the core spec. LODs should therefore be defined using the [MSFT_LOD extension](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_lod).</span></span>

### <a name="screen-coverage"></a><span data-ttu-id="ff90d-289">畫面涵蓋範圍</span><span class="sxs-lookup"><span data-stu-id="ff90d-289">Screen coverage</span></span>

<span data-ttu-id="ff90d-290">LODs 會根據每個 LOD 上設定的螢幕涵蓋範圍值所驅動的系統，以 Windows Mixed Reality 的形式顯示。</span><span class="sxs-lookup"><span data-stu-id="ff90d-290">LODs are displayed in Windows Mixed Reality based on a system driven by the screen coverage value set on each LOD.</span></span> <span data-ttu-id="ff90d-291">目前耗用較大部分螢幕空間的物件會顯示在較高的 LOD 層級上。</span><span class="sxs-lookup"><span data-stu-id="ff90d-291">Objects that are currently consuming a larger portion of the screen space are displayed at a higher LOD level.</span></span> <span data-ttu-id="ff90d-292">螢幕涵蓋範圍不是核心 glTF 2.0 規格的一部分，而且必須使用[MSFT_lod 延伸](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_lod)模組的「額外專案」區段中的 MSFT_ScreenCoverage 來指定。</span><span class="sxs-lookup"><span data-stu-id="ff90d-292">Screen coverage is not a part of the core glTF 2.0 spec and must be specified using MSFT_ScreenCoverage in the “extras” section of the [MSFT_lod extension](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_lod).</span></span>
<br>

|  <span data-ttu-id="ff90d-293">LOD 層級</span><span class="sxs-lookup"><span data-stu-id="ff90d-293">LOD Level</span></span>  |  <span data-ttu-id="ff90d-294">建議範圍</span><span class="sxs-lookup"><span data-stu-id="ff90d-294">Recommended Range</span></span>  |  <span data-ttu-id="ff90d-295">預設範圍</span><span class="sxs-lookup"><span data-stu-id="ff90d-295">Default Range</span></span> | 
|-------|-------|-------|
|  <span data-ttu-id="ff90d-296">LOD 0</span><span class="sxs-lookup"><span data-stu-id="ff90d-296">LOD 0</span></span>  |  <span data-ttu-id="ff90d-297">100%-50%</span><span class="sxs-lookup"><span data-stu-id="ff90d-297">100% - 50%</span></span> |  <span data-ttu-id="ff90d-298">.5</span><span class="sxs-lookup"><span data-stu-id="ff90d-298">.5</span></span> | 
|  <span data-ttu-id="ff90d-299">LOD 1</span><span class="sxs-lookup"><span data-stu-id="ff90d-299">LOD 1</span></span> |  <span data-ttu-id="ff90d-300">低於 50%-20%</span><span class="sxs-lookup"><span data-stu-id="ff90d-300">Under 50% - 20%</span></span>  |  <span data-ttu-id="ff90d-301">.2</span><span class="sxs-lookup"><span data-stu-id="ff90d-301">.2</span></span> | 
|  <span data-ttu-id="ff90d-302">LOD 2</span><span class="sxs-lookup"><span data-stu-id="ff90d-302">LOD 2</span></span> |  <span data-ttu-id="ff90d-303">低於 20%-1%</span><span class="sxs-lookup"><span data-stu-id="ff90d-303">Under 20% - 1%</span></span>  |  <span data-ttu-id="ff90d-304">乘</span><span class="sxs-lookup"><span data-stu-id="ff90d-304">.01</span></span> | 
|  <span data-ttu-id="ff90d-305">LOD 4</span><span class="sxs-lookup"><span data-stu-id="ff90d-305">LOD 4</span></span>  |  <span data-ttu-id="ff90d-306">低於1%</span><span class="sxs-lookup"><span data-stu-id="ff90d-306">Under 1%</span></span>  |  - | 

## <a name="animation-guidelines"></a><span data-ttu-id="ff90d-307">動畫指導方針</span><span class="sxs-lookup"><span data-stu-id="ff90d-307">Animation guidelines</span></span>

> [!NOTE]
> <span data-ttu-id="ff90d-308">這項功能已新增為[Windows 10 2018 年4月更新](release-notes-april-2018.md)的一部分。</span><span class="sxs-lookup"><span data-stu-id="ff90d-308">This feature was added as part of [Windows 10 April 2018 Update](release-notes-april-2018.md).</span></span> <span data-ttu-id="ff90d-309">在舊版的 Windows 上，這些動畫將不會播放，不過，如果是根據本文中的指導方針來撰寫，它們仍然會載入。</span><span class="sxs-lookup"><span data-stu-id="ff90d-309">On older versions of Windows these animations will not play back, however, they will still load if authored according to the guidance in this article.</span></span>  

<span data-ttu-id="ff90d-310">混合現實首頁支援 HoloLens 和沉浸式（VR）耳機上的動畫 glTF 物件。</span><span class="sxs-lookup"><span data-stu-id="ff90d-310">The mixed reality home supports animated glTF objects on HoloLens and immersive (VR) headsets.</span></span> <span data-ttu-id="ff90d-311">如果您想要在模型上觸發動畫，您必須使用 glTF 格式的動畫對應延伸模組。</span><span class="sxs-lookup"><span data-stu-id="ff90d-311">If you wish to trigger animations on your model, you'll need to use the Animation Map extension on the glTF format.</span></span> <span data-ttu-id="ff90d-312">此延伸模組可讓您根據世界各地的使用者，在 glTF 模型中觸發動畫，例如，在使用者接近物件或正在查看時觸發動畫。</span><span class="sxs-lookup"><span data-stu-id="ff90d-312">This extension lets you trigger animations in the glTF model based on the users presence in the world, for example trigger an animation when the user is close to the object or while they are looking at it.</span></span> <span data-ttu-id="ff90d-313">如果您 glTF 物件具有動畫，但未定義觸發程式，則不會播放動畫。</span><span class="sxs-lookup"><span data-stu-id="ff90d-313">If you glTF object has animations, but doesn't define triggers the animations will not be played back.</span></span> <span data-ttu-id="ff90d-314">下一節說明將這些觸發程式新增至任何動畫 glTF 物件的工作流程。</span><span class="sxs-lookup"><span data-stu-id="ff90d-314">The section below describes one workflow for adding these triggers to any animated glTF object.</span></span>

### <a name="tools"></a><span data-ttu-id="ff90d-315">工具</span><span class="sxs-lookup"><span data-stu-id="ff90d-315">Tools</span></span>
<span data-ttu-id="ff90d-316">首先，下載下列工具（如果您還沒有的話）。</span><span class="sxs-lookup"><span data-stu-id="ff90d-316">First, download the following tools if you don't have them already.</span></span> <span data-ttu-id="ff90d-317">這些工具可讓您輕鬆地開啟任何 glTF 模型、加以預覽、進行變更，然後再存回 glTF 或 glb：</span><span class="sxs-lookup"><span data-stu-id="ff90d-317">These tools will make it easy to open any glTF model, preview it, make changes and save back out as glTF or .glb:</span></span>
1. [<span data-ttu-id="ff90d-318">Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="ff90d-318">Visual Studio Code</span></span>](https://code.visualstudio.com/)
2. [<span data-ttu-id="ff90d-319">適用于 Visual Studio Code 的 glTF 工具</span><span class="sxs-lookup"><span data-stu-id="ff90d-319">glTF Tools for Visual Studio Code</span></span>](https://marketplace.visualstudio.com/items?itemName=cesium.gltf-vscode)


### <a name="opening-and-previewing-the-model"></a><span data-ttu-id="ff90d-320">開啟和預覽模型</span><span class="sxs-lookup"><span data-stu-id="ff90d-320">Opening and previewing the model</span></span>
<span data-ttu-id="ff90d-321">首先，將 glTF 檔案拖曳至編輯器視窗中，以開啟 VSCode 中的 glTF 模型。</span><span class="sxs-lookup"><span data-stu-id="ff90d-321">Start by opening up the glTF model in VSCode by dragging the .glTF file into the editor window.</span></span> <span data-ttu-id="ff90d-322">請注意，如果您有 glb 而不是 glTF 檔案，則可以使用您下載的 glTF 工具附件將其匯入 VSCode。</span><span class="sxs-lookup"><span data-stu-id="ff90d-322">Note that if you have a .glb instead of a .glTF file you can import it into VSCode using the glTF Tools addon that you downloaded.</span></span> <span data-ttu-id="ff90d-323">移至 [View-> 命令選擇區]，然後開始在命令選擇區中輸入 "glTF"，然後選取 [glTF：從 glb 匯入]，這將會顯示檔案選擇器，供您匯入 glb。</span><span class="sxs-lookup"><span data-stu-id="ff90d-323">Go to "View -> Command Palette" and then begin typing "glTF" in the command palette and select "glTF: Import from glb" which will pop up a file picker for you to import a .glb with.</span></span> 

<span data-ttu-id="ff90d-324">開啟 glTF 模型之後，您應該會在編輯器視窗中看到 JSON。</span><span class="sxs-lookup"><span data-stu-id="ff90d-324">Once you've opened your glTF model you should see the JSON in the editor window.</span></span> <span data-ttu-id="ff90d-325">請注意，您也可以使用以滑鼠右鍵按一下檔案名，然後從滑鼠右鍵功能表中選取 [glTF： Preview 3D 模型] 命令快捷方式，在即時3D 檢視器中預覽模型。</span><span class="sxs-lookup"><span data-stu-id="ff90d-325">Note that you can also preview the model in a live 3D viewer using the by right clicking the file name and selecting the "glTF: Preview 3D Model" command shortcut from the right click menu.</span></span> 

### <a name="adding-the-triggers"></a><span data-ttu-id="ff90d-326">新增觸發程式</span><span class="sxs-lookup"><span data-stu-id="ff90d-326">Adding the triggers</span></span>
<span data-ttu-id="ff90d-327">動畫觸發程式會使用動畫對應延伸模組新增至 glTF 模型 JSON。</span><span class="sxs-lookup"><span data-stu-id="ff90d-327">Animation triggers are added to glTF model JSON using the Animation Map extension.</span></span> <span data-ttu-id="ff90d-328">在[GitHub 上](https://github.com/msfeldstein/glTF/blob/04f7005206257cf97b215df5e3f469d7838c1fee/extensions/Vendor/FB_animation_map/README.md)，動畫對應延伸模組是公開記載的（注意：這是草稿延伸模組）。</span><span class="sxs-lookup"><span data-stu-id="ff90d-328">The animation map extension is publicly documented [here on GitHub](https://github.com/msfeldstein/glTF/blob/04f7005206257cf97b215df5e3f469d7838c1fee/extensions/Vendor/FB_animation_map/README.md) (NOTE: THIS IS A DRAFT EXTENSION).</span></span> <span data-ttu-id="ff90d-329">若要將擴充功能加入至模型，只要在編輯器中滾動到 glTF 檔案的結尾，並將 "extensionsUsed" 和 "extension" 區塊新增至您的檔案（如果它們還不存在的話）。</span><span class="sxs-lookup"><span data-stu-id="ff90d-329">To add the extension to your model just scroll to the end of the glTF file in the editor and add the "extensionsUsed" and "extensions" block to your file if they don't already exist.</span></span> <span data-ttu-id="ff90d-330">在 "extensionsUsed" 區段中，您會新增 "EXT_animation_map" 延伸模組的參考，並在 "extension" 區塊中，將對應新增至模型中的動畫。</span><span class="sxs-lookup"><span data-stu-id="ff90d-330">In the "extensionsUsed" section you'll add a reference to the "EXT_animation_map" extension and in the "extensions" block you'll add your mappings to the animations in the model.</span></span>

<span data-ttu-id="ff90d-331">如[規格](https://github.com/msfeldstein/glTF/blob/04f7005206257cf97b215df5e3f469d7838c1fee/extensions/Vendor/FB_animation_map/README.md)所述，您定義了在「動畫」清單上使用「語義」字串來觸發動畫的內容，這是一種動畫索引陣列。</span><span class="sxs-lookup"><span data-stu-id="ff90d-331">As noted [in the spec](https://github.com/msfeldstein/glTF/blob/04f7005206257cf97b215df5e3f469d7838c1fee/extensions/Vendor/FB_animation_map/README.md) you define what triggers the animation using the "semantic" string on a list of "animations" which is an array of animation indices.</span></span> <span data-ttu-id="ff90d-332">在下面的範例中，我們指定在物件上撥雲見日使用者時要播放的動畫：</span><span class="sxs-lookup"><span data-stu-id="ff90d-332">In the example below we've specified the animation to play while the user is gazing at the object:</span></span>

```json
  "extensionsUsed": [
    "EXT_animation_map"
  ],
  "extensions" : {
      "EXT_animation_map" : {
            "bindings": [
                {
                    "semantic": "GAZE",
                    "animations": [0]
                }
            ]
      }
  }
```
<span data-ttu-id="ff90d-333">Windows Mixed Reality home 支援下列動畫觸發程式的語法。</span><span class="sxs-lookup"><span data-stu-id="ff90d-333">The following animation triggers semantics are supported by the Windows Mixed Reality home.</span></span>  
* <span data-ttu-id="ff90d-334">「一律」：經常迴圈動畫</span><span class="sxs-lookup"><span data-stu-id="ff90d-334">"ALWAYS": Constantly loop an animation</span></span>
* <span data-ttu-id="ff90d-335">「保留」：物件所抓取的整個持續期間內的迴圈。</span><span class="sxs-lookup"><span data-stu-id="ff90d-335">"HELD": Looped during the entire duration an object is grabbed.</span></span>
* <span data-ttu-id="ff90d-336">「注視」：正在查看物件時進行迴圈</span><span class="sxs-lookup"><span data-stu-id="ff90d-336">"GAZE": Looped  while an object is being looked at</span></span>
* <span data-ttu-id="ff90d-337">「鄰近性」：當檢視器接近物件時進行迴圈</span><span class="sxs-lookup"><span data-stu-id="ff90d-337">"PROXIMITY": Looped while a viewer is near to an object</span></span>
* <span data-ttu-id="ff90d-338">「指向」：當使用者指向物件時進行迴圈</span><span class="sxs-lookup"><span data-stu-id="ff90d-338">"POINTING": Looped while a user is pointing at an object</span></span>

### <a name="saving-and-exporting"></a><span data-ttu-id="ff90d-339">儲存和匯出</span><span class="sxs-lookup"><span data-stu-id="ff90d-339">Saving and exporting</span></span>
<span data-ttu-id="ff90d-340">變更 glTF 模型之後，您可以直接將其儲存為 glTF，或以滑鼠右鍵按一下編輯器中的檔案名，然後選取 [glTF：匯出至 GLB （二進位檔）] 以改為匯出. GLB。</span><span class="sxs-lookup"><span data-stu-id="ff90d-340">Once you've made the changes to your glTF model you can save it directly as glTF or you can right click the name of the file in the editor and select "glTF: Export to GLB (binary file)" to instead export a .glb.</span></span> 

### <a name="restrictions"></a><span data-ttu-id="ff90d-341">限制</span><span class="sxs-lookup"><span data-stu-id="ff90d-341">Restrictions</span></span>
<span data-ttu-id="ff90d-342">動畫的長度不能超過20分鐘，且不能包含超過36000個主要畫面格（20分鐘，30 FPS）。</span><span class="sxs-lookup"><span data-stu-id="ff90d-342">Animations cannot be longer than 20 minutes and cannot contain more than 36,000 keyframes (20 mins at 30 FPS).</span></span> <span data-ttu-id="ff90d-343">此外，使用以平滑目標為基礎的動畫時，不會超過8192的平滑目標頂點或更少。</span><span class="sxs-lookup"><span data-stu-id="ff90d-343">Additionally when using morph target based animations do not exceed 8192 morph target vertices or less.</span></span> <span data-ttu-id="ff90d-344">超過這些計數將導致 Windows Mixed Reality home 中的動畫資產不受支援。</span><span class="sxs-lookup"><span data-stu-id="ff90d-344">Exceeding these count will cause the animated asset to be unsupported in the Windows Mixed Reality home.</span></span> 

|<span data-ttu-id="ff90d-345">功能</span><span class="sxs-lookup"><span data-stu-id="ff90d-345">Feature</span></span>|<span data-ttu-id="ff90d-346">最大需求</span><span class="sxs-lookup"><span data-stu-id="ff90d-346">Maximum</span></span>|
|-----|-----|
|<span data-ttu-id="ff90d-347">持續期間</span><span class="sxs-lookup"><span data-stu-id="ff90d-347">Duration</span></span>|<span data-ttu-id="ff90d-348">20 分鐘</span><span class="sxs-lookup"><span data-stu-id="ff90d-348">20 minutes</span></span>|
|<span data-ttu-id="ff90d-349">幀</span><span class="sxs-lookup"><span data-stu-id="ff90d-349">Keyframes</span></span>|<span data-ttu-id="ff90d-350">36,000</span><span class="sxs-lookup"><span data-stu-id="ff90d-350">36,000</span></span>| 
|<span data-ttu-id="ff90d-351">變形目標頂點</span><span class="sxs-lookup"><span data-stu-id="ff90d-351">Morph Target Vertices</span></span>|<span data-ttu-id="ff90d-352">8192</span><span class="sxs-lookup"><span data-stu-id="ff90d-352">8192</span></span>|

## <a name="gltf-implementation-notes"></a><span data-ttu-id="ff90d-353">glTF 執行注意事項</span><span class="sxs-lookup"><span data-stu-id="ff90d-353">glTF Implementation notes</span></span>
<span data-ttu-id="ff90d-354">Windows MR 不支援使用負值縮放來翻轉幾何。</span><span class="sxs-lookup"><span data-stu-id="ff90d-354">Windows MR does not support flipping geometry using negative scales.</span></span> <span data-ttu-id="ff90d-355">具有負值尺規的幾何可能會導致視覺成品。</span><span class="sxs-lookup"><span data-stu-id="ff90d-355">Geometry with negative scales will likely result in visual artifacts.</span></span>

<span data-ttu-id="ff90d-356">GlTF 資產必須使用由 Windows MR 轉譯的場景屬性，指向預設場景。</span><span class="sxs-lookup"><span data-stu-id="ff90d-356">The glTF asset MUST point to the default scene using the scene attribute to be rendered by Windows MR.</span></span> <span data-ttu-id="ff90d-357">此外，windows [10 2018 年4月更新](release-notes-april-2018.md)之前的 Windows MR glTF 載入器**需要**存取子：</span><span class="sxs-lookup"><span data-stu-id="ff90d-357">Additionally the Windows MR glTF loader prior to the [Windows 10 April 2018 update](release-notes-april-2018.md) **requires** accessors:</span></span>
* <span data-ttu-id="ff90d-358">必須有 min 和 max 值。</span><span class="sxs-lookup"><span data-stu-id="ff90d-358">Must have min and max values.</span></span>
* <span data-ttu-id="ff90d-359">類型純量必須是 componentType UNSIGNED_SHORT （5123）或 UNSIGNED_INT （5125）。</span><span class="sxs-lookup"><span data-stu-id="ff90d-359">Type SCALAR must be componentType UNSIGNED_SHORT (5123) or UNSIGNED_INT (5125).</span></span>
* <span data-ttu-id="ff90d-360">類型 VEC2 和 VEC3 必須是 componentType FLOAT （5126）。</span><span class="sxs-lookup"><span data-stu-id="ff90d-360">Type VEC2 and VEC3 must be componentType FLOAT (5126).</span></span>

<span data-ttu-id="ff90d-361">下列材質屬性是從 core glTF 2.0 規格使用，但不是必要的：</span><span class="sxs-lookup"><span data-stu-id="ff90d-361">The following material properties are used from core glTF 2.0 spec but not required:</span></span>
* <span data-ttu-id="ff90d-362">baseColorFactor, metallicFactor, roughnessFactor</span><span class="sxs-lookup"><span data-stu-id="ff90d-362">baseColorFactor, metallicFactor, roughnessFactor</span></span>
* <span data-ttu-id="ff90d-363">baseColorTexture：必須指向儲存在 dds 中的材質。</span><span class="sxs-lookup"><span data-stu-id="ff90d-363">baseColorTexture: Must point to a texture stored in dds.</span></span>
* <span data-ttu-id="ff90d-364">emissiveTexture：必須指向儲存在 dds 中的材質。</span><span class="sxs-lookup"><span data-stu-id="ff90d-364">emissiveTexture: Must point to a texture stored in dds.</span></span>
* <span data-ttu-id="ff90d-365">emissiveFactor</span><span class="sxs-lookup"><span data-stu-id="ff90d-365">emissiveFactor</span></span>
* <span data-ttu-id="ff90d-366">AlphaMode</span><span class="sxs-lookup"><span data-stu-id="ff90d-366">alphaMode</span></span>

<span data-ttu-id="ff90d-367">下列材質屬性會從核心規格中忽略：</span><span class="sxs-lookup"><span data-stu-id="ff90d-367">The following material properties are ignored from core spec:</span></span>
* <span data-ttu-id="ff90d-368">所有多 UVs</span><span class="sxs-lookup"><span data-stu-id="ff90d-368">All Multi-UVs</span></span>
* <span data-ttu-id="ff90d-369">metalRoughnessTexture：必須改為使用下面定義的 Microsoft 優化材質封裝</span><span class="sxs-lookup"><span data-stu-id="ff90d-369">metalRoughnessTexture: Must instead use Microsoft optimized texture packing defined below</span></span>
* <span data-ttu-id="ff90d-370">normalTexture：必須改為使用下面定義的 Microsoft 優化材質封裝</span><span class="sxs-lookup"><span data-stu-id="ff90d-370">normalTexture: Must instead use Microsoft optimized texture packing defined below</span></span>
* <span data-ttu-id="ff90d-371">normalScale</span><span class="sxs-lookup"><span data-stu-id="ff90d-371">normalScale</span></span>
* <span data-ttu-id="ff90d-372">occlusionTexture：必須改為使用下面定義的 Microsoft 優化材質封裝</span><span class="sxs-lookup"><span data-stu-id="ff90d-372">occlusionTexture: Must instead use Microsoft optimized texture packing defined below</span></span>
* <span data-ttu-id="ff90d-373">occlusionStrength</span><span class="sxs-lookup"><span data-stu-id="ff90d-373">occlusionStrength</span></span>

<span data-ttu-id="ff90d-374">Windows MR 不支援基本模式線和點。</span><span class="sxs-lookup"><span data-stu-id="ff90d-374">Windows MR does not support primitive mode lines and points.</span></span> 

<span data-ttu-id="ff90d-375">僅支援單一 UV 頂點屬性。</span><span class="sxs-lookup"><span data-stu-id="ff90d-375">Only a single UV vertex attribute is supported.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="ff90d-376">其他資源</span><span class="sxs-lookup"><span data-stu-id="ff90d-376">Additional resources</span></span>
* [<span data-ttu-id="ff90d-377">glTF 匯出工具和轉換器</span><span class="sxs-lookup"><span data-stu-id="ff90d-377">glTF Exporters and Converters</span></span>](https://github.com/KhronosGroup/glTF#converters-and-exporters)
* [<span data-ttu-id="ff90d-378">glTF 工具組</span><span class="sxs-lookup"><span data-stu-id="ff90d-378">glTF Toolkit</span></span>](https://github.com/Microsoft/glTF-Toolkit)
* [<span data-ttu-id="ff90d-379">glTF 2.0 規格</span><span class="sxs-lookup"><span data-stu-id="ff90d-379">glTF 2.0 Specification</span></span>](https://github.com/KhronosGroup/glTF/blob/master/README.md)
* [<span data-ttu-id="ff90d-380">Microsoft glTF LOD 擴充功能規格</span><span class="sxs-lookup"><span data-stu-id="ff90d-380">Microsoft glTF LOD Extension Specification</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_lod/README.md)
* [<span data-ttu-id="ff90d-381">電腦混合現實材質封裝延伸模組規格</span><span class="sxs-lookup"><span data-stu-id="ff90d-381">PC Mixed Reality Texture Packing Extensions Specification</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_occlusionRoughnessMetallic/README.md)
* [<span data-ttu-id="ff90d-382">HoloLens Mixed Reality 材質封裝延伸模組規格</span><span class="sxs-lookup"><span data-stu-id="ff90d-382">HoloLens Mixed Reality Texture Packing Extensions Specification</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_normalRoughnessMetallic/README.md)
* [<span data-ttu-id="ff90d-383">Microsoft DDS 材質 glTF 擴充功能規格</span><span class="sxs-lookup"><span data-stu-id="ff90d-383">Microsoft DDS Textures glTF extensions specification</span></span>](https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds)

## <a name="see-also"></a><span data-ttu-id="ff90d-384">另請參閱</span><span class="sxs-lookup"><span data-stu-id="ff90d-384">See also</span></span>

* [<span data-ttu-id="ff90d-385">實作 3D 應用程式啟動器 (UWP 應用程式)</span><span class="sxs-lookup"><span data-stu-id="ff90d-385">Implement 3D app launchers (UWP apps)</span></span>](implementing-3d-app-launchers.md)
* [<span data-ttu-id="ff90d-386">實作 3D 應用程式啟動器 (Win32 應用程式)</span><span class="sxs-lookup"><span data-stu-id="ff90d-386">Implement 3D app launchers (Win32 apps)</span></span>](implementing-3d-app-launchers-win32.md)
* [<span data-ttu-id="ff90d-387">瀏覽 Windows Mixed Reality 住家</span><span class="sxs-lookup"><span data-stu-id="ff90d-387">Navigating the Windows Mixed Reality home</span></span>](navigating-the-windows-mixed-reality-home.md)
