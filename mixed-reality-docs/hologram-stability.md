---
title: 全息影像穩定性
description: HoloLens 會自動穩定的全像投影, 但是開發人員可以採取一些步驟進一步改善全息影像的穩定性。
author: thetuvix
ms.author: alexturn
ms.date: 03/21/2018
ms.topic: article
keywords: 全息影像、穩定性、hololens
ms.openlocfilehash: b35b904e3c662c5ebd0670a98044706fe208e348
ms.sourcegitcommit: c20563b8195c0c374a927b96708d958b127ffc8f
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 05/21/2019
ms.locfileid: "65974932"
---
# <a name="hologram-stability"></a><span data-ttu-id="63313-104">全息影像穩定性</span><span class="sxs-lookup"><span data-stu-id="63313-104">Hologram stability</span></span>

<span data-ttu-id="63313-105">為了達到穩定的全息影像, HoloLens 具有內建的映射穩定管線。</span><span class="sxs-lookup"><span data-stu-id="63313-105">To achieve stable holograms, HoloLens has a built-in image stabilization pipeline.</span></span> <span data-ttu-id="63313-106">穩定管線會在背景中自動運作, 因此不需要額外的步驟就能啟用它。</span><span class="sxs-lookup"><span data-stu-id="63313-106">The stabilization pipeline works automatically in the background, so there are no extra steps required to enable it.</span></span> <span data-ttu-id="63313-107">不過, 開發人員應該執行可改善全像全像的技術, 並避免會降低穩定性的案例。</span><span class="sxs-lookup"><span data-stu-id="63313-107">However, developers should exercise techniques that improve hologram stability and avoid scenarios that reduce stability.</span></span>

## <a name="hologram-quality-terminology"></a><span data-ttu-id="63313-108">全息全像品質術語</span><span class="sxs-lookup"><span data-stu-id="63313-108">Hologram quality terminology</span></span>

<span data-ttu-id="63313-109">全像投影的品質是良好的環境和良好應用程式開發的結果。</span><span class="sxs-lookup"><span data-stu-id="63313-109">The quality of holograms is a result of good environment and good app development.</span></span> <span data-ttu-id="63313-110">在 HoloLens 可以追蹤周圍的環境中, 每秒達到常數60畫面格的應用程式, 將會確保全像投影和相符的座標系統同步。從使用者的觀點來看, 要做為固定的全息影像將不會相對於環境進行移動。</span><span class="sxs-lookup"><span data-stu-id="63313-110">Apps that hit a constant 60 frames-per-second in an environment where HoloLens can track the surroundings will ensure the hologram and the matching coordinate system are in sync. From a user's perspective, holograms that are meant to be stationary will not move relative to the environment.</span></span>

<span data-ttu-id="63313-111">當環境問題、不一致或低轉譯率或其他應用程式問題顯示時, 下列術語有助於識別問題。</span><span class="sxs-lookup"><span data-stu-id="63313-111">When environment issues, inconsistent or low rendering rates, or other app problems show up, the following terminology is helpful in identifying the problem.</span></span>
* <span data-ttu-id="63313-112">**精確.**</span><span class="sxs-lookup"><span data-stu-id="63313-112">**Accuracy.**</span></span> <span data-ttu-id="63313-113">一旦將全像世界各地的全息影像放在現實世界中, 它應該會與周圍的環境保持相對的位置, 而不受使用者動作或小型和稀疏環境變更的影響。</span><span class="sxs-lookup"><span data-stu-id="63313-113">Once the hologram is world-locked and placed in the real world, it should stay where it was placed, relative to the surrounding environment, independent of user motion or small and sparse environment changes.</span></span> <span data-ttu-id="63313-114">如果之後的全息影像出現在非預期的位置, 就會是*正確*的問題。</span><span class="sxs-lookup"><span data-stu-id="63313-114">If a hologram later appears in an unexpected location, it is an *accuracy* problem.</span></span> <span data-ttu-id="63313-115">如果兩個不同的房間看起來完全相同, 可能就會發生這種情況。</span><span class="sxs-lookup"><span data-stu-id="63313-115">Such scenarios can happen if two distinct rooms look identical.</span></span>
* <span data-ttu-id="63313-116">**抖動.**</span><span class="sxs-lookup"><span data-stu-id="63313-116">**Jitter.**</span></span> <span data-ttu-id="63313-117">使用者會觀察到這是全像影像的高頻率搖動。</span><span class="sxs-lookup"><span data-stu-id="63313-117">Users observe this as high frequency shaking of a hologram.</span></span> <span data-ttu-id="63313-118">當追蹤環境降低時, 就可能發生這種情況。</span><span class="sxs-lookup"><span data-stu-id="63313-118">This can happen when tracking of the environment degrades.</span></span> <span data-ttu-id="63313-119">針對使用者, 解決方案正在執行[感應器微調](sensor-tuning.md)。</span><span class="sxs-lookup"><span data-stu-id="63313-119">For users, the solution is running [sensor tuning](sensor-tuning.md).</span></span>
* <span data-ttu-id="63313-120">**Judder.**</span><span class="sxs-lookup"><span data-stu-id="63313-120">**Judder.**</span></span> <span data-ttu-id="63313-121">低轉譯頻率會導致不平均的運動和影像的兩倍。</span><span class="sxs-lookup"><span data-stu-id="63313-121">Low rendering frequencies result in uneven motion and double images of holograms.</span></span> <span data-ttu-id="63313-122">這在具有動作的全息影像中特別明顯。</span><span class="sxs-lookup"><span data-stu-id="63313-122">This is especially noticeable in holograms with motion.</span></span> <span data-ttu-id="63313-123">開發人員必須維持[常數 60 FPS](hologram-stability.md#frame-rate)。</span><span class="sxs-lookup"><span data-stu-id="63313-123">Developers need to maintain a [constant 60 FPS](hologram-stability.md#frame-rate).</span></span>
* <span data-ttu-id="63313-124">**便.**</span><span class="sxs-lookup"><span data-stu-id="63313-124">**Drift.**</span></span> <span data-ttu-id="63313-125">使用者會看到這種情況, 因為全息顯示全像投影, 而不是從原先放置的位置移出來。</span><span class="sxs-lookup"><span data-stu-id="63313-125">Users see this as hologram appears to move away from where it was originally placed.</span></span> <span data-ttu-id="63313-126">這種情況發生于距離[空間錨點](spatial-anchors.md)的離全置影像時, 特別是在尚未完全對應的環境部分。</span><span class="sxs-lookup"><span data-stu-id="63313-126">This happens when holograms are placed far away from [spatial anchors](spatial-anchors.md), particularly in parts of the environment that have not been fully mapped.</span></span> <span data-ttu-id="63313-127">建立接近空間錨點的全息影像, 會降低漂移的可能性。</span><span class="sxs-lookup"><span data-stu-id="63313-127">Creating holograms close to spatial anchors lowers the likelihood of drift.</span></span>
* <span data-ttu-id="63313-128">**Jumpiness.**</span><span class="sxs-lookup"><span data-stu-id="63313-128">**Jumpiness.**</span></span> <span data-ttu-id="63313-129">當全息的「pop」或「跳躍」時, 偶爾會從它的位置消失。</span><span class="sxs-lookup"><span data-stu-id="63313-129">When a hologram "pops" or "jumps" away from it's location occasionally.</span></span> <span data-ttu-id="63313-130">這可能會因為追蹤調整全像投影, 以符合對您環境的更新瞭解。</span><span class="sxs-lookup"><span data-stu-id="63313-130">This can occur as tracking adjusts holograms to match updated understanding of your environment.</span></span>
* <span data-ttu-id="63313-131">**泳道.**</span><span class="sxs-lookup"><span data-stu-id="63313-131">**Swim.**</span></span> <span data-ttu-id="63313-132">當您的全息顯示與使用者的動作相對應的 [sway] 時。</span><span class="sxs-lookup"><span data-stu-id="63313-132">When a hologram appears to sway corresponding to the motion of the user's head.</span></span> <span data-ttu-id="63313-133">當全息影像不在[穩定平面](hologram-stability.md#stabilization-plane)上, 且未針對目前使用者[校準](calibration.md)HoloLens 時, 就會發生這種情況。</span><span class="sxs-lookup"><span data-stu-id="63313-133">This occurs when holograms are not on the [stabilization plane](hologram-stability.md#stabilization-plane), and if the HoloLens is not [calibrated](calibration.md) for the current user.</span></span> <span data-ttu-id="63313-134">使用者可以重新執行[校正](calibration.md)應用程式來修正此問題。</span><span class="sxs-lookup"><span data-stu-id="63313-134">The user can rerun the [calibration](calibration.md) application to fix this.</span></span> <span data-ttu-id="63313-135">開發人員可以更新穩定平面, 以進一步增強穩定性。</span><span class="sxs-lookup"><span data-stu-id="63313-135">Developers can update the stabilization plane to further enhance stability.</span></span>
* <span data-ttu-id="63313-136">**色彩分隔。**</span><span class="sxs-lookup"><span data-stu-id="63313-136">**Color separation.**</span></span> <span data-ttu-id="63313-137">HoloLens 中的顯示器是彩色順序顯示, 其會將紅色-綠色-藍綠-綠色的色頻閃爍為 60Hz (個別色彩欄位會顯示在 240Hz)。</span><span class="sxs-lookup"><span data-stu-id="63313-137">The displays in HoloLens are a color sequential display, which flash color channels of red-green-blue-green at 60Hz (individual color fields are shown at 240Hz).</span></span> <span data-ttu-id="63313-138">每當使用者以其眼睛追蹤移動的全息影像時, 該全像投影的前置和尾端邊緣會以其構成色彩分隔, 產生彩虹效果。</span><span class="sxs-lookup"><span data-stu-id="63313-138">Whenever a user tracks a moving hologram with his or her eyes, that hologram's leading and trailing edges separate in their constituent colors, producing a rainbow effect.</span></span> <span data-ttu-id="63313-139">分隔程度取決於全息影像的速度。</span><span class="sxs-lookup"><span data-stu-id="63313-139">The degree of separation is dependent upon the speed of the hologram.</span></span> <span data-ttu-id="63313-140">在某些罕見的情況下, 在查看固定的全息光碟時, 快速移動一個, 也可能會導致彩虹的效果。</span><span class="sxs-lookup"><span data-stu-id="63313-140">In some rarer cases, moving ones head rapidly while looking at a stationary hologram can also result in a rainbow effect.</span></span> <span data-ttu-id="63313-141">這就叫做 *[色彩區隔](hologram-stability.md#color-separation)* 。</span><span class="sxs-lookup"><span data-stu-id="63313-141">This is called *[color separation](hologram-stability.md#color-separation)*.</span></span>

## <a name="frame-rate"></a><span data-ttu-id="63313-142">畫面播放速率</span><span class="sxs-lookup"><span data-stu-id="63313-142">Frame rate</span></span>

<span data-ttu-id="63313-143">畫面播放速率是全息影像穩定性的第一個要件。</span><span class="sxs-lookup"><span data-stu-id="63313-143">Frame rate is the first pillar of hologram stability.</span></span> <span data-ttu-id="63313-144">若要讓全息影像在世界中顯示為穩定, 呈現給使用者的每個影像都必須在正確的位置繪製全像投影。</span><span class="sxs-lookup"><span data-stu-id="63313-144">For holograms to appear stable in the world, each image presented to the user must have the holograms drawn in the correct spot.</span></span> <span data-ttu-id="63313-145">每秒會顯示 HoloLens 重新整理240次, 並針對每個新呈現的影像顯示四個不同的色彩欄位, 導致使用者體驗 60 FPS (每秒畫面格)。</span><span class="sxs-lookup"><span data-stu-id="63313-145">The displays on HoloLens refresh 240 times a second, showing four separate color fields for each newly rendered image, resulting in a user experience of 60 FPS (frames per second).</span></span> <span data-ttu-id="63313-146">為了盡可能提供最佳體驗, 應用程式開發人員必須維護 60 FPS, 這會轉譯為每16毫秒一致地將新的映射提供給作業系統。</span><span class="sxs-lookup"><span data-stu-id="63313-146">To provide the best experience possible, application developers must maintain 60 FPS, which translates to consistently providing a new image to the operating system every 16 milliseconds.</span></span>

<span data-ttu-id="63313-147">**60 FPS**若要繪製全息影像, 使其看起來像是真實世界, HoloLens 必須從使用者的位置呈現影像。</span><span class="sxs-lookup"><span data-stu-id="63313-147">**60 FPS** To draw holograms to look like they're sitting in the real world, HoloLens needs to render images from the user's position.</span></span> <span data-ttu-id="63313-148">由於影像轉譯需要一些時間, 因此 HoloLens 會預測使用者的前端在顯示畫面中顯示時的位置。</span><span class="sxs-lookup"><span data-stu-id="63313-148">Since image rendering takes time, HoloLens predicts where a user's head will be when the images are shown in the displays.</span></span> <span data-ttu-id="63313-149">這個預測演算法是近似值。</span><span class="sxs-lookup"><span data-stu-id="63313-149">This prediction algorithm is an approximation.</span></span> <span data-ttu-id="63313-150">HoloLens 具有硬體, 可調整轉譯的影像, 以考慮預測的標頭位置與實際的頭部位置之間的差異。</span><span class="sxs-lookup"><span data-stu-id="63313-150">HoloLens has hardware that adjusts the rendered image to account for the discrepancy between the predicted head position and the actual head position.</span></span> <span data-ttu-id="63313-151">這會讓使用者看到的影像看起來像是從正確的位置轉譯, 而全息全像是穩定的。</span><span class="sxs-lookup"><span data-stu-id="63313-151">This makes the image the user sees appear as if it was rendered from the correct location, and holograms feel stable.</span></span> <span data-ttu-id="63313-152">映射更新最適用于小型變更, 而且無法完整修正轉譯影像中的某些專案, 例如視差。</span><span class="sxs-lookup"><span data-stu-id="63313-152">The image updates work best with small changes, and it can't completely fix certain things in the rendered image like motion-parallax.</span></span>

<span data-ttu-id="63313-153">藉由在 60 FPS 轉譯, 您會做三件事來協助進行穩定的全息:</span><span class="sxs-lookup"><span data-stu-id="63313-153">By rendering at 60 FPS, you are doing three things to help make stable holograms:</span></span>
1. <span data-ttu-id="63313-154">將轉譯影像和使用者看到的影像之間的整體延遲降到最低。</span><span class="sxs-lookup"><span data-stu-id="63313-154">Minimizing the overall latency between rendering an image and that image being seen by the user.</span></span> <span data-ttu-id="63313-155">在具有遊戲執行緒和在密集建置中執行之轉譯執行緒的引擎中, 于30FPS 執行的會加入 33.3 ms 的額外延遲。</span><span class="sxs-lookup"><span data-stu-id="63313-155">In an engine with a game thread and a render thread running in lockstep, running at 30FPS can add 33.3ms of extra latency.</span></span> <span data-ttu-id="63313-156">藉由減少延遲, 這會減少預測錯誤, 並增加全息影像的穩定性。</span><span class="sxs-lookup"><span data-stu-id="63313-156">By reducing latency, this decreases prediction error, and increases hologram stability.</span></span>
2. <span data-ttu-id="63313-157">讓每個影像達到使用者的眼睛, 都具有一致的延遲量。</span><span class="sxs-lookup"><span data-stu-id="63313-157">Making it so every image reaching the user's eyes have a consistent amount of latency.</span></span> <span data-ttu-id="63313-158">如果您在30fps 轉譯, 顯示器仍會以 60 FPS 顯示影像。</span><span class="sxs-lookup"><span data-stu-id="63313-158">If you render at 30fps, the display still displays images at 60 FPS.</span></span> <span data-ttu-id="63313-159">這表示相同的影像將會在資料列中顯示兩次。</span><span class="sxs-lookup"><span data-stu-id="63313-159">This means the same image will be displayed twice in a row.</span></span> <span data-ttu-id="63313-160">第二個框架的延遲會比第一個畫面的16.6 毫秒, 而且必須更正更明顯的錯誤量。</span><span class="sxs-lookup"><span data-stu-id="63313-160">The second frame will have 16.6ms more latency than the first frame and will have to correct a more pronounced amount of error.</span></span> <span data-ttu-id="63313-161">這種錯誤程度不一致, 可能會造成不必要的 60hz judder。</span><span class="sxs-lookup"><span data-stu-id="63313-161">This inconsistency in error magnitude can cause unwanted 60hz judder.</span></span>
3. <span data-ttu-id="63313-162">減少 judder 的外觀, 這是以不平均的運動和雙影像為特色。</span><span class="sxs-lookup"><span data-stu-id="63313-162">Reducing the appearance of judder, which is characterized by uneven motion and double images.</span></span> <span data-ttu-id="63313-163">更快的全息影像動作和較低的轉譯率會與更明顯的 judder 相關聯。</span><span class="sxs-lookup"><span data-stu-id="63313-163">Faster hologram motion and lower render rates are associated with more pronounced judder.</span></span> <span data-ttu-id="63313-164">因此, 目前致力於維護 60 FPS 將有助於避免指定的移動全息影像 judder。</span><span class="sxs-lookup"><span data-stu-id="63313-164">Therefore, striving to maintain 60 FPS at all times will help avoid judder for a given moving hologram.</span></span>

<span data-ttu-id="63313-165">**畫面播放速率一致性**畫面播放速率一致性與每秒高框架的重要性相同。</span><span class="sxs-lookup"><span data-stu-id="63313-165">**Frame-rate consistency** Frame rate consistency is as important as a high frames-per-second.</span></span> <span data-ttu-id="63313-166">對於任何內容豐富的應用程式, 偶爾捨棄的畫面是不可避免的, 而且 HoloLens 會實行一些複雜的演算法來復原偶爾的問題。</span><span class="sxs-lookup"><span data-stu-id="63313-166">Occasionally dropped frames are inevitable for any content-rich application, and the HoloLens implements some sophisticated algorithms to recover from occasional glitches.</span></span> <span data-ttu-id="63313-167">不過, 如果使用者以較低的畫面播放速率一致地執行, 經常變動的畫面播放速率就會更明顯。</span><span class="sxs-lookup"><span data-stu-id="63313-167">However, a constantly fluctuating framerate is a lot more noticeable to a user than running consistently at lower frame rates.</span></span> <span data-ttu-id="63313-168">例如, 應用程式會順暢呈現5個畫面 (在這5個畫面的持續時間內為 60 FPS), 然後在接下來的10個畫面上放置每個其他框架 (這10個畫面的持續時間為 30 FPS), 會比一致的應用程式更不穩定以 30 FPS 呈現。</span><span class="sxs-lookup"><span data-stu-id="63313-168">For example, an application that renders smoothly for 5 frames (60 FPS for the duration of these 5 frames) and then drops every other frame for the next 10 frames (30 FPS for the duration of these 10 frames) will appear more unstable than an application that consistently renders at 30 FPS.</span></span>

<span data-ttu-id="63313-169">在相關的注意事項中, 當[混合現實 capture](mixed-reality-capture.md)執行時, 作業系統會將應用程式節流至 30 FPS。</span><span class="sxs-lookup"><span data-stu-id="63313-169">On a related note, the operating system will throttle applications down to 30 FPS when [mixed reality capture](mixed-reality-capture.md) is running.</span></span>

<span data-ttu-id="63313-170">**效能分析**您可以使用各種不同的工具來對應用程式框架速率進行基準測試, 例如:</span><span class="sxs-lookup"><span data-stu-id="63313-170">**Performance analysis** There are a variety of tools that can be used to benchmark your application frame rate such as:</span></span>
* <span data-ttu-id="63313-171">GPUView</span><span class="sxs-lookup"><span data-stu-id="63313-171">GPUView</span></span>
* <span data-ttu-id="63313-172">Visual Studio 圖形偵錯工具</span><span class="sxs-lookup"><span data-stu-id="63313-172">Visual Studio Graphics Debugger</span></span>
* <span data-ttu-id="63313-173">內建于3D 引擎 (例如 Unity) 中的分析工具</span><span class="sxs-lookup"><span data-stu-id="63313-173">Profilers built into 3D engines such as Unity</span></span>

## <a name="hologram-render-distances"></a><span data-ttu-id="63313-174">全息影像轉譯距離</span><span class="sxs-lookup"><span data-stu-id="63313-174">Hologram render distances</span></span>

>[!VIDEO https://www.youtube.com/embed/-606oZKLa_s]

<span data-ttu-id="63313-175">當 fixates 並著重于物件時, 人類視覺效果系統會整合多個與距離相關的信號。</span><span class="sxs-lookup"><span data-stu-id="63313-175">The human visual system integrates multiple distance-dependent signals when it fixates and focuses on an object.</span></span>
* <span data-ttu-id="63313-176">[住宿](https://en.wikipedia.org/wiki/Accommodation_%28eye%29)-個人眼的重點。</span><span class="sxs-lookup"><span data-stu-id="63313-176">[Accommodation](https://en.wikipedia.org/wiki/Accommodation_%28eye%29) - The focus of an individual eye.</span></span>
* <span data-ttu-id="63313-177">[聚合](https://en.wikipedia.org/wiki/Convergence_(eye))-在物件上向內或向外移動兩個眼睛。</span><span class="sxs-lookup"><span data-stu-id="63313-177">[Convergence](https://en.wikipedia.org/wiki/Convergence_(eye)) - Two eyes moving inward or outward to center on an object.</span></span>
* <span data-ttu-id="63313-178">[Binocular 視覺](https://en.wikipedia.org/wiki/Stereopsis)-在與您的 fixation 點不同的物件距離之間 Disparities 的左右影像。</span><span class="sxs-lookup"><span data-stu-id="63313-178">[Binocular vision](https://en.wikipedia.org/wiki/Stereopsis) - Disparities between the left- and right-eye images that are dependent on an object's distance away from your fixation point.</span></span>
* <span data-ttu-id="63313-179">陰影、相對角度大小和其他 monocular (單一眼) 提示。</span><span class="sxs-lookup"><span data-stu-id="63313-179">Shading, relative angular size, and other monocular (single eye) cues.</span></span>

<span data-ttu-id="63313-180">聚合和住宿是唯一的, 因為它們是視網膜的提示, 與眼睛如何改變以在不同的距離感知物件有關。</span><span class="sxs-lookup"><span data-stu-id="63313-180">Convergence and accommodation are unique because they are extra-retinal cues related to how the eyes change to perceive objects at different distances.</span></span> <span data-ttu-id="63313-181">在自然觀賞中, 融合和住宿是連結的。</span><span class="sxs-lookup"><span data-stu-id="63313-181">In natural viewing, convergence and accommodation are linked.</span></span> <span data-ttu-id="63313-182">當眼睛接近附近時 (例如您的鼻子), 接近點的眼睛會交叉並配合。</span><span class="sxs-lookup"><span data-stu-id="63313-182">When the eyes view something near (e.g. your nose) the eyes cross and accommodate to a near point.</span></span> <span data-ttu-id="63313-183">當眼睛為無限大時, 眼睛會變得平行, 而眼睛則適合無限。</span><span class="sxs-lookup"><span data-stu-id="63313-183">When the eyes view something at infinity the eyes become parallel and the eye accommodates to infinity.</span></span> <span data-ttu-id="63313-184">戴 HoloLens 的使用者一律會容納到 2.0 m, 以維護清楚的影像, 因為 HoloLens 顯示器的固定位置是與使用者相距大約 2.0 m 的光學距離。</span><span class="sxs-lookup"><span data-stu-id="63313-184">Users wearing HoloLens will always accommodate to 2.0m to maintain a clear image because the HoloLens displays are fixed at an optical distance approximately 2.0m away from the user.</span></span> <span data-ttu-id="63313-185">應用程式開發人員可以在各種深度放置內容和全息影像, 以控制使用者的眼睛。</span><span class="sxs-lookup"><span data-stu-id="63313-185">App developers control where users' eyes converge by placing content and holograms at various depths.</span></span> <span data-ttu-id="63313-186">當使用者配合並融合到不同的距離時, 兩個提示之間的自然連結會中斷, 而這可能會導致視覺 discomfort 或疲勞, 特別是當衝突的程度很大時。</span><span class="sxs-lookup"><span data-stu-id="63313-186">When users accommodate and converge to different distances, the natural link between the two cues are broken and this can lead to visual discomfort or fatigue, especially when the magnitude of the conflict is large.</span></span> <span data-ttu-id="63313-187">Discomfort 自 vergence-住宿衝突可以避免或最小化, 方法是讓使用者盡可能地融合到 2.0 m 的內容 (也就是在一個場景中, 如果可能的話, 會有許多深度放在靠近 2.0 m 的區域)。</span><span class="sxs-lookup"><span data-stu-id="63313-187">Discomfort from the vergence-accommodation conflict can be avoided or minimized by keeping content that users converge to as close to 2.0m as possible (i.e. in a scene with lots of depth place the areas of interest near 2.0m when possible).</span></span> <span data-ttu-id="63313-188">當使用者在不同距離之間來回看時, 無法從 vergence accomodation 衝突中, 將內容放在 2.0 m discomfort 附近。</span><span class="sxs-lookup"><span data-stu-id="63313-188">When content cannot be placed near 2.0m discomfort from the vergence-accomodation conflict is greatest when user’s gaze back and forth between different distances.</span></span> <span data-ttu-id="63313-189">換句話說, 要查看一段時間內遠離您的全像投影50cm 的全像 50cm, 可以更輕鬆地查看靜止的全息影像。</span><span class="sxs-lookup"><span data-stu-id="63313-189">In other words, it is much more comfortable to look at a stationary hologram that stays 50cm away than to look at a hologram 50cm away that moves toward and away from you over time.</span></span>

<span data-ttu-id="63313-190">將內容放在 2.0 m 也很有利, 因為這兩個顯示器的設計是要在此距離完全重迭。</span><span class="sxs-lookup"><span data-stu-id="63313-190">Placing content at 2.0m is also advantageous because the two displays are designed to fully overlap at this distance.</span></span> <span data-ttu-id="63313-191">對於放在此平面外的影像, 當它們移出全像攝影框架的側邊時, 它們會從一個顯示中消失, 同時仍可在另一個顯示器上看到。</span><span class="sxs-lookup"><span data-stu-id="63313-191">For images placed off this plane, as they move off the side of the holographic frame they will disappear from one display while still being visible on the other.</span></span> <span data-ttu-id="63313-192">這個 binocular rivalry 可能會干擾全像投影的深度感知。</span><span class="sxs-lookup"><span data-stu-id="63313-192">This binocular rivalry can be disruptive to the depth perception of the hologram.</span></span>

<span data-ttu-id="63313-193">**從使用者處放置全息影像的最佳距離**</span><span class="sxs-lookup"><span data-stu-id="63313-193">**Optimal distance for placing holograms from the user**</span></span>

![從使用者處放置全息影像的最佳距離](images/distanceguiderendering-750px.png)

<span data-ttu-id="63313-195">**剪輯平面**為了達到最大的緩和度, 我們建議您在85cm 時使用 fadeout 的內容, 從1m 開始裁剪轉譯距離。</span><span class="sxs-lookup"><span data-stu-id="63313-195">**Clip Planes** For maximum comfort we recommend clipping render distance at 85cm with fadeout of content starting at 1m.</span></span> <span data-ttu-id="63313-196">在全息影像和使用者都是固定的全息影像的應用程式中, 可以像50cm 一樣輕鬆地觀看。</span><span class="sxs-lookup"><span data-stu-id="63313-196">In applications where holograms and users are both stationary holograms can be viewed comfortably as near as 50cm.</span></span> <span data-ttu-id="63313-197">在這些情況下, 應用程式應該將剪輯平面放在靠近30cm 的位置, 淡出至少應該從剪輯平面開始10cm。</span><span class="sxs-lookup"><span data-stu-id="63313-197">In those cases, applications should place a clip plane no closer than 30cm and fade out should start at least 10cm away from the clip plane.</span></span> <span data-ttu-id="63313-198">每當內容接近85cm 時, 請務必確保使用者不會經常從全息影像移近或更遠, 或不常從使用者處移動全息影像, 因為這些情況很可能會造成 discomfort 的問題。vergence-住宿衝突。</span><span class="sxs-lookup"><span data-stu-id="63313-198">Whenever content is closer than 85cm it is important to ensure that users do not frequently move closer or farther from holograms or that holograms do not frequently move closer to or farther from the user as these situations are most likely to cause discomfort from the vergence-accommodation conflict.</span></span> <span data-ttu-id="63313-199">內容的設計目的是要將互動的需求降至最低, 而不是從使用者 85cm, 但當內容必須比85cm 更接近時, 開發人員最好的經驗法則就是設計案例, 讓使用者和/或全息影像不會超過 25% 的輸出深度他的時間。</span><span class="sxs-lookup"><span data-stu-id="63313-199">Content should be designed to minimize the need for interaction closer than 85cm from the user, but when content must be rendered closer than 85cm a good rule of thumb for developers is to design scenarios where users and/or holograms do not move in depth more than 25% of the time.</span></span>

<span data-ttu-id="63313-200">**最佳做法**當您無法避免在2m 時放置全息影像, 而且無法避免聚合與住宿之間的衝突時, 全像投影位置的最佳區域會介於 1.25 m 到5m 之間。</span><span class="sxs-lookup"><span data-stu-id="63313-200">**Best practices** When holograms cannot be placed at 2m and conflicts between convergence and accommodation cannot be avoided, the optimal zone for hologram placement is between 1.25m and 5m.</span></span> <span data-ttu-id="63313-201">在每個案例中, 設計人員都應該結構內容, 以鼓勵使用者離開 1 + m (例如調整內容大小和預設位置參數)。</span><span class="sxs-lookup"><span data-stu-id="63313-201">In every case, designers should structure content to encourage users to interact 1+ m away (e.g. adjust content size and default placement parameters).</span></span>

## <a name="stabilization-plane"></a><span data-ttu-id="63313-202">穩定平面</span><span class="sxs-lookup"><span data-stu-id="63313-202">Stabilization plane</span></span>
> [!NOTE]
> <span data-ttu-id="63313-203">針對桌面沉浸式耳機, 設定穩定平面通常會有生產力, 因為它提供的視覺效果品質比將應用程式的深度緩衝區提供給系統來啟用以圖元為基礎的深度 reprojection 更低。</span><span class="sxs-lookup"><span data-stu-id="63313-203">For desktop immersive headsets, setting a stabilization plane is usually counter-productive, as it offers less visual quality than providing your app's depth buffer to the system to enable per-pixel depth-based reprojection.</span></span> <span data-ttu-id="63313-204">除非在 HoloLens 上執行, 否則您通常應該避免設定穩定平面。</span><span class="sxs-lookup"><span data-stu-id="63313-204">Unless running on a HoloLens, you should generally avoid setting the stabilization plane.</span></span>

<span data-ttu-id="63313-205">HoloLens 會執行複雜的硬體輔助全像攝影穩定技術。</span><span class="sxs-lookup"><span data-stu-id="63313-205">HoloLens performs a sophisticated hardware-assisted holographic stabilization technique.</span></span> <span data-ttu-id="63313-206">這主要是自動進行的, 而且必須在場景繪製動畫, 而使用者移動其 head 時, 進行移動和變更觀點 (CameraPose)。</span><span class="sxs-lookup"><span data-stu-id="63313-206">This is largely automatic and has to do with motion and change of the point of view (CameraPose) as the scene animates and the user moves their head.</span></span> <span data-ttu-id="63313-207">已選擇單一平面 (稱為「穩定平面」) 來最大化此穩定。</span><span class="sxs-lookup"><span data-stu-id="63313-207">A single plane, called the stabilization plane, is chosen to maximize this stabilization.</span></span> <span data-ttu-id="63313-208">雖然場景中的所有全息影像都會收到一些穩定的情況, 但穩定平面中的全息影像會收到硬體穩定的最大值。</span><span class="sxs-lookup"><span data-stu-id="63313-208">While all holograms in the scene receive some stabilization, holograms in the stabilization plane receive the maximum hardware stabilization.</span></span>

![3D 物件的穩定平面](images/stab-plane-500px.jpg)

<span data-ttu-id="63313-210">裝置會自動嘗試選擇此平面, 但應用程式可以藉由選取場景中的焦點點來協助進行這項處理。</span><span class="sxs-lookup"><span data-stu-id="63313-210">The device will automatically attempt to choose this plane, but the application can assist in this process by selecting the focus point in the scene.</span></span> <span data-ttu-id="63313-211">在 HoloLens 上執行的 Unity 應用程式應該根據您的場景選擇最佳焦點, 並將其傳遞到[SetFocusPoint ()](focus-point-in-unity.md)。</span><span class="sxs-lookup"><span data-stu-id="63313-211">Unity apps running on a HoloLens should choose the best focus point based on your scene and pass this into [SetFocusPoint()](focus-point-in-unity.md).</span></span> <span data-ttu-id="63313-212">預設的旋轉 cube 範本中包含設定 DirectX 中焦點點的範例。</span><span class="sxs-lookup"><span data-stu-id="63313-212">An example of setting the focus point in DirectX is included in the default spinning cube template.</span></span>

<span data-ttu-id="63313-213">請注意, 當您的 Unity 應用程式在連接到桌上型電腦的沉浸式耳機上執行時, Unity 會將深度緩衝區提交至 Windows 以啟用每個圖元的 reprojection, 這通常會提供更好的影像品質, 而不需要應用程式進行明確的作業。</span><span class="sxs-lookup"><span data-stu-id="63313-213">Note that when your Unity app runs on an immersive headset connected to a desktop PC, Unity will submit your depth buffer to Windows to enable per-pixel reprojection, which will usually provide even better image quality without explicit work by the app.</span></span> <span data-ttu-id="63313-214">如果您提供焦點, 則會覆寫每個圖元的 reprojection, 因此您應該只在您的應用程式在 HoloLens 上執行時才這麼做。</span><span class="sxs-lookup"><span data-stu-id="63313-214">If you provide a Focus Point, that will override the per-pixel reprojection, so you should only do so when your app is running on a HoloLens.</span></span>




```cs
// SetFocusPoint informs the system about a specific point in your scene to
// prioritize for image stabilization. The focus point is set independently
// for each holographic camera.
// You should set the focus point near the content that the user is looking at.
// In this example, we put the focus point at the center of the sample hologram,
// since that is the only hologram available for the user to focus on.
// You can also set the relative velocity and facing of that content; the sample
// hologram is at a fixed point so we only need to indicate its position.
renderingParameters.SetFocusPoint(
    currentCoordinateSystem,
    spinningCubeRenderer.Position
    );
```

<span data-ttu-id="63313-215">重點的位置, 主要取決於全像投影。</span><span class="sxs-lookup"><span data-stu-id="63313-215">Placement of the focus point largely depends on the hologram is looking at.</span></span> <span data-ttu-id="63313-216">應用程式有參考的注視向量, 而應用程式設計師知道他們想要讓使用者觀察哪些內容。</span><span class="sxs-lookup"><span data-stu-id="63313-216">The app has the gaze vector for reference and the app designer knows what content they want the user to observe.</span></span>

<span data-ttu-id="63313-217">開發人員可以對穩定的全像投影執行的最重要的事, 就是在 60 FPS 呈現。</span><span class="sxs-lookup"><span data-stu-id="63313-217">The single most important thing a developer can do to stabilize holograms is to render at 60 FPS.</span></span> <span data-ttu-id="63313-218">低於 60 FPS 會大幅降低全像影像的穩定性, 而不論穩定平面優化為何。</span><span class="sxs-lookup"><span data-stu-id="63313-218">Dropping below 60 FPS will dramatically reduce hologram stability, regardless of the stabilization plane optimization.</span></span>

<span data-ttu-id="63313-219">**最佳做法**沒有通用的方式可設定穩定平面, 而且它是應用程式特定的, 因此主要建議是實驗並查看最適合您案例的功能。</span><span class="sxs-lookup"><span data-stu-id="63313-219">**Best practices** There is no universal way to set up the stabilization plane and it is app-specific, so the main recommendation is to experiment and see what works best for your scenarios.</span></span> <span data-ttu-id="63313-220">不過, 請儘量將穩定平面的內容對齊, 因為這個平面上的所有內容都是完美穩定的。</span><span class="sxs-lookup"><span data-stu-id="63313-220">However, try to align the stabilization plane with as much content as possible because all the content on this plane is perfectly stabilized.</span></span>

<span data-ttu-id="63313-221">例如:</span><span class="sxs-lookup"><span data-stu-id="63313-221">For example:</span></span>
* <span data-ttu-id="63313-222">如果您只有平面內容 (讀取應用程式、影片播放應用程式), 請將穩定平面與具有內容的平面對齊。</span><span class="sxs-lookup"><span data-stu-id="63313-222">If you have only planar content (reading app, video playback app), align the stabilization plane with the plane that has your content.</span></span>
* <span data-ttu-id="63313-223">如果有3個以世界鎖定的小球體, 請讓穩定平面變成「剪下」, 但目前在使用者觀點中的所有球中心。</span><span class="sxs-lookup"><span data-stu-id="63313-223">If there are 3 small spheres that are world-locked, make the stabilization plane "cut" though the centers of all the spheres that are currently in the user's view.</span></span>
* <span data-ttu-id="63313-224">如果您的場景有非常不同深度的內容, 則偏好進一步的物件。</span><span class="sxs-lookup"><span data-stu-id="63313-224">If your scene has content at substantially different depths, favor further objects.</span></span>
* <span data-ttu-id="63313-225">請務必調整每個畫面格的穩定點, 使其與使用者正在查看的全息影像一致</span><span class="sxs-lookup"><span data-stu-id="63313-225">Make sure to adjust the stabilization point every frame to coincide with the hologram the user is looking at</span></span>

<span data-ttu-id="63313-226">**要避免的事項**穩定平面是達到穩定全息的絕佳工具, 但如果誤用, 可能會導致嚴重的映射不穩定。</span><span class="sxs-lookup"><span data-stu-id="63313-226">**Things to Avoid** The stabilization plane is a great tool to achieve stable holograms, but if misused it can result in severe image instability.</span></span>
* <span data-ttu-id="63313-227">不要「引發並忘」, 因為您可能會得到使用者背後的穩定平面, 或連接到不在使用者觀點中的物件。</span><span class="sxs-lookup"><span data-stu-id="63313-227">Don't "fire and forget", since you can end up with the stabilization plane behind the user or attached to an object that is no longer in the user's view.</span></span> <span data-ttu-id="63313-228">確保穩定平面正常設定為相對的相機向前復原 (例如-攝影機. 轉寄)</span><span class="sxs-lookup"><span data-stu-id="63313-228">Ensure the stabilization plane normal is set opposite camera-forward (e.g. -camera.forward)</span></span>
* <span data-ttu-id="63313-229">不要在極端之間來回地快速變更穩定平面</span><span class="sxs-lookup"><span data-stu-id="63313-229">Don't rapidly change the stabilization plane back and forth between extremes</span></span>
* <span data-ttu-id="63313-230">不要讓穩定平面設定為固定距離/方向</span><span class="sxs-lookup"><span data-stu-id="63313-230">Don't leave the stabilization plane set to a fixed distance/orientation</span></span>
* <span data-ttu-id="63313-231">不要讓穩定平面剪下使用者</span><span class="sxs-lookup"><span data-stu-id="63313-231">Don't let the stabilization plane cut through the user</span></span>
* <span data-ttu-id="63313-232">請勿在桌上型電腦 (而不是 HoloLens) 上執行時設定焦點, 而是依賴每個圖元的深度 reprojection。</span><span class="sxs-lookup"><span data-stu-id="63313-232">Don't set the focus point when running on a desktop PC rather than a HoloLens, and instead rely on per-pixel depth-based reprojection.</span></span>

## <a name="color-separation"></a><span data-ttu-id="63313-233">色彩分隔</span><span class="sxs-lookup"><span data-stu-id="63313-233">Color separation</span></span> 

<span data-ttu-id="63313-234">由於 HoloLens 顯示的本質, 有時可以察覺稱為「色彩分隔」的成品。</span><span class="sxs-lookup"><span data-stu-id="63313-234">Due to the nature of HoloLens displays, an artifact called "color-separation" can sometimes be perceived.</span></span> <span data-ttu-id="63313-235">它會以影像分隔成個別的基本色彩-紅色、綠色和藍色。</span><span class="sxs-lookup"><span data-stu-id="63313-235">It manifests as the image separating into individual base colors - red, green and blue.</span></span> <span data-ttu-id="63313-236">顯示白色物件時, 可以特別看到成品, 因為它們有大量的紅色、綠色和藍色。</span><span class="sxs-lookup"><span data-stu-id="63313-236">The artifact can be especially visible when displaying white objects, since they have large amounts of red, green and blue.</span></span> <span data-ttu-id="63313-237">當使用者以視覺化方式追蹤在全像全像全像全像攝影的畫面格上移動的全像投影時, 最明顯的是。</span><span class="sxs-lookup"><span data-stu-id="63313-237">It is most pronounced when a user visually tracks a hologram that is moving across the holographic frame at high speed.</span></span> <span data-ttu-id="63313-238">另一種構件可以資訊清單的方式是物件的扭曲/變形。</span><span class="sxs-lookup"><span data-stu-id="63313-238">Another way the artifact can manifest is warping/deformation of objects.</span></span> <span data-ttu-id="63313-239">如果物件具有高對比和 (或) 純色 (紅色、綠色、藍色), 則會將色彩分隔視為物件的不同部分的變形。</span><span class="sxs-lookup"><span data-stu-id="63313-239">If an object has high contrast and/or pure colors (red, green, blue), color-separation will be perceived as warping of different parts of the object.</span></span>

<span data-ttu-id="63313-240">**例如, 當使用者將其標頭旋轉至一邊時, 標頭鎖定白色圓形游標的色彩分隔可能會類似:**</span><span class="sxs-lookup"><span data-stu-id="63313-240">**Example of what the color separation of a head-locked white round cursor could look like as a user rotates their head to the side:**</span></span>

![例如, 當使用者將其標頭旋轉至一邊時, 標頭鎖定的白色圓形游標的色彩分隔外觀。](images/colorseparationofroundwhitecursor-300px.png)

<span data-ttu-id="63313-242">雖然很難完全避免色彩分隔, 但有幾種方法可以減輕它的問題。</span><span class="sxs-lookup"><span data-stu-id="63313-242">Though it's difficult to completely avoid color separation, there are several techniques available to mitigate it.</span></span>

<span data-ttu-id="63313-243">**可以在下列情況看到色彩分隔:**</span><span class="sxs-lookup"><span data-stu-id="63313-243">**Color-separation can be seen on:**</span></span>
* <span data-ttu-id="63313-244">快速移動的物件, 包括標頭鎖定的物件 (例如[游標](cursors.md))。</span><span class="sxs-lookup"><span data-stu-id="63313-244">Objects that are moving quickly, including head-locked objects such as the [cursor](cursors.md).</span></span>
* <span data-ttu-id="63313-245">遠低於[穩定平面](hologram-stability.md#stabilization-plane)的物件。</span><span class="sxs-lookup"><span data-stu-id="63313-245">Objects that are substantially far from the [stabilization plane](hologram-stability.md#stabilization-plane).</span></span>

<span data-ttu-id="63313-246">**若要 attenuate 色彩分隔的效果:**</span><span class="sxs-lookup"><span data-stu-id="63313-246">**To attenuate the effects of color-separation:**</span></span>
* <span data-ttu-id="63313-247">讓物件延後使用者的注視。</span><span class="sxs-lookup"><span data-stu-id="63313-247">Make the object lag the user's gaze.</span></span> <span data-ttu-id="63313-248">它看起來應該像是有一些慣性, 並且附加至注視「的彈簧」上。</span><span class="sxs-lookup"><span data-stu-id="63313-248">It should appear as if it has some inertia and is attached to the gaze "on springs".</span></span> <span data-ttu-id="63313-249">這會減緩游標 (減少分隔距離), 並將它放在使用者可能的注視點後方。</span><span class="sxs-lookup"><span data-stu-id="63313-249">This slows the cursor (reducing separation distance) and puts it behind the user's likely gaze point.</span></span> <span data-ttu-id="63313-250">只要很快就能跟上使用者停止的速度, 就好像很自然。</span><span class="sxs-lookup"><span data-stu-id="63313-250">So long as it quickly catches up when the user stops shifting their gaze it feels quite natural.</span></span>
* <span data-ttu-id="63313-251">如果您想要移動全息影像, 請嘗試將其移動速度維持在每秒5度以下, 如果您預期使用者會遵循其眼睛。</span><span class="sxs-lookup"><span data-stu-id="63313-251">If you do want to move a hologram, try to keep it's movement speed below 5 degrees/second if you anticipate that the user will follow it with their eyes.</span></span>
* <span data-ttu-id="63313-252">針對資料指標使用*light*而不是*geometry* 。</span><span class="sxs-lookup"><span data-stu-id="63313-252">Use *light* instead of *geometry* for the cursor.</span></span> <span data-ttu-id="63313-253">附加至注視的虛擬照明來源會被視為互動式指標, 但不會造成色彩分隔。</span><span class="sxs-lookup"><span data-stu-id="63313-253">A source of virtual illumination attached to the gaze will be perceived as an interactive pointer but will not cause color-separation.</span></span>
* <span data-ttu-id="63313-254">調整穩定平面, 使其符合使用者撥雲見日的全息影像。</span><span class="sxs-lookup"><span data-stu-id="63313-254">Adjust the stabilization plane to match the holograms the user is gazing at.</span></span>
* <span data-ttu-id="63313-255">將物件設為紅色、綠色或藍色。</span><span class="sxs-lookup"><span data-stu-id="63313-255">Make the object red, green or blue.</span></span>
* <span data-ttu-id="63313-256">切換至模糊版本的內容。</span><span class="sxs-lookup"><span data-stu-id="63313-256">Switch to a blurred version of the content.</span></span> <span data-ttu-id="63313-257">例如, 「圓角」游標可能會變更為「動作方向」中稍微模糊的線條方向。</span><span class="sxs-lookup"><span data-stu-id="63313-257">For example, a round white cursor could be change to a slightly blurred line oriented in the direction of motion.</span></span>

<span data-ttu-id="63313-258">如先前所示, 在 60 FPS 和設定穩定平面的情況下, 是最重要的全像影像穩定性技術。</span><span class="sxs-lookup"><span data-stu-id="63313-258">As before, rendering at 60 FPS and setting the stabilization plane are the most important techniques for hologram stability.</span></span> <span data-ttu-id="63313-259">如果面對明顯的色彩分隔, 請先確定畫面播放速率符合預期。</span><span class="sxs-lookup"><span data-stu-id="63313-259">If facing noticeable color separation, first make sure the frame rate meets expectations.</span></span>

## <a name="see-also"></a><span data-ttu-id="63313-260">另請參閱</span><span class="sxs-lookup"><span data-stu-id="63313-260">See also</span></span>
* [<span data-ttu-id="63313-261">瞭解混合現實的效能</span><span class="sxs-lookup"><span data-stu-id="63313-261">Understanding Performance for Mixed Reality</span></span>](understanding-performance-for-mixed-reality.md)
* [<span data-ttu-id="63313-262">色彩、光線和材質</span><span class="sxs-lookup"><span data-stu-id="63313-262">Color, light and materials</span></span>](color,-light-and-materials.md)
* [<span data-ttu-id="63313-263">本能互動</span><span class="sxs-lookup"><span data-stu-id="63313-263">Instinctual interactions</span></span>](interaction-fundamentals.md)