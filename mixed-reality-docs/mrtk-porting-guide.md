---
title: HoloLens 2 準備您的應用程式
description: HoloLens 有現有的應用程式開發人員適用對象 （第 1 代） 及/或較舊 MRTK，並想要 MRTK 第 2 版 」 和 「 HoloLens 2 的連接埠。
author: grbury
ms.author: grbury
ms.date: 04/12/19
ms.topic: article
ms.localizationpriority: high
keywords: Windows Mixed Reality，MRTK MRTK 第 2 版、 HoloLens 2 測試
ms.openlocfilehash: 98fde1a597bcc20b14037176748258d35ef99ab9
ms.sourcegitcommit: 1c0fbee8fa887525af6ed92174edc42c05b25f90
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 05/16/2019
ms.locfileid: "65730871"
---
# <a name="getting-your-existing-app-ready-for-hololens-2"></a><span data-ttu-id="05a50-104">HoloLens 2 準備您現有的應用程式</span><span class="sxs-lookup"><span data-stu-id="05a50-104">Getting your existing app ready for HoloLens 2</span></span>

<span data-ttu-id="05a50-105">本指南專為協助開發人員的 HoloLens 有現有的 Unity 應用程式 （第 1 代） 移植他們的應用程式，在新的 HoloLens 2 裝置。</span><span class="sxs-lookup"><span data-stu-id="05a50-105">This guide is specifically tailored to help developers who have an existing Unity app for HoloLens (1st gen) to port their application for the new HoloLens 2 device.</span></span> <span data-ttu-id="05a50-106">有四個重要的步驟，移植 HoloLens （第 1 代） 為 HoloLens 2 的 Unity 應用程式。</span><span class="sxs-lookup"><span data-stu-id="05a50-106">There are four key steps to porting a HoloLens (1st gen) Unity app to HoloLens 2.</span></span> <span data-ttu-id="05a50-107">下列各節將詳細說明每個階段的資訊。</span><span class="sxs-lookup"><span data-stu-id="05a50-107">The sections below will detail information for each stage.</span></span> 

| <span data-ttu-id="05a50-108">步驟 1</span><span class="sxs-lookup"><span data-stu-id="05a50-108">Step 1</span></span> | <span data-ttu-id="05a50-109">步驟 2</span><span class="sxs-lookup"><span data-stu-id="05a50-109">Step 2</span></span> | <span data-ttu-id="05a50-110">步驟 3</span><span class="sxs-lookup"><span data-stu-id="05a50-110">Step 3</span></span> | <span data-ttu-id="05a50-111">步驟 4</span><span class="sxs-lookup"><span data-stu-id="05a50-111">Step 4</span></span> |
|----------|-------------------|-------------------|-------------------|
| ![Visual Studio 標誌](images/visualstudio_logo.png) | ![Unity 標誌](images/unity_logo.png)| ![Unity 圖示](images/hololens2_icon.jpg) | ![MRTK 標誌](images/MRTKIcon.jpg) |
| <span data-ttu-id="05a50-116">下載最新的工具</span><span class="sxs-lookup"><span data-stu-id="05a50-116">Download latest tools</span></span> | <span data-ttu-id="05a50-117">更新 Unity 專案</span><span class="sxs-lookup"><span data-stu-id="05a50-117">Update Unity Project</span></span> | <span data-ttu-id="05a50-118">適用於 ARM 編譯</span><span class="sxs-lookup"><span data-stu-id="05a50-118">Compile for ARM</span></span> | <span data-ttu-id="05a50-119">移轉至 MRTK v2</span><span class="sxs-lookup"><span data-stu-id="05a50-119">Migrate to MRTK v2</span></span>

<span data-ttu-id="05a50-120">很**強烈建議**，再開始移轉程序，開發人員利用原始檔控制來儲存其應用程式的原始狀態的快照。</span><span class="sxs-lookup"><span data-stu-id="05a50-120">It is **highly recommended** that, before beginning the porting process, developers utilize source control to save a snapshot of the original state of their app.</span></span> <span data-ttu-id="05a50-121">此外，建議您使用*儲存*程序期間的各個點上的檢查點狀態。</span><span class="sxs-lookup"><span data-stu-id="05a50-121">Additionally, it is recommended to *save* checkpoint states at various points during the process.</span></span> <span data-ttu-id="05a50-122">它也可以是非常有幫助另一個連接埠程序期間，以便並排顯示比較原始的應用程式的 Unity 執行個體。</span><span class="sxs-lookup"><span data-stu-id="05a50-122">It can also be very helpful to have another Unity instance of the original app to allow for side-by-side comparison during the port process.</span></span> 

> [!NOTE]
> <span data-ttu-id="05a50-123">移植前，請確定您已安裝適用於 Windows Mixed Reality 開發最新工具。</span><span class="sxs-lookup"><span data-stu-id="05a50-123">Before porting, ensure you have the latest tools installed for Windows Mixed Reality development.</span></span> <span data-ttu-id="05a50-124">對於大部分現有的 HoloLens 開發人員，這主要是涉及更新至最新的 Visual Studio 2017，並安裝適當的 Windows SDK。</span><span class="sxs-lookup"><span data-stu-id="05a50-124">For most existing HoloLens developers, this will primarily involve updating to the latest Visual Studio 2017 and installing the appropriate Windows SDK.</span></span> <span data-ttu-id="05a50-125">以下內容將深入了解進一步不同 Unity 版本及混合實境工具組第 2 版。</span><span class="sxs-lookup"><span data-stu-id="05a50-125">The content below will dive further into different Unity versions and the Mixed Reality Toolkit version 2.</span></span>
>
> <span data-ttu-id="05a50-126">如需詳細資訊，請參閱[安裝工具](install-the-tools.md)。</span><span class="sxs-lookup"><span data-stu-id="05a50-126">For more information, please see [Install the tools](install-the-tools.md).</span></span>

## <a name="migrate-project-to-latest-version-of-unity"></a><span data-ttu-id="05a50-127">將專案移轉至最新版本的 Unity</span><span class="sxs-lookup"><span data-stu-id="05a50-127">Migrate project to latest version of Unity</span></span>

<span data-ttu-id="05a50-128">如果使用 MRTK v2，Unity 2018 LTS 會是最佳的長期支援路徑與 Unity 或 MRTK 中沒有重大變更。</span><span class="sxs-lookup"><span data-stu-id="05a50-128">If using the MRTK v2, then Unity 2018 LTS will be the best long-term support path with no breaking changes in Unity or in MRTK.</span></span>  <span data-ttu-id="05a50-129">建議的 Unity 組建中每個上述 「 安裝工具 」 是 Unity 2018.3，這會成為 Unity 2018 的 LTS 版本。</span><span class="sxs-lookup"><span data-stu-id="05a50-129">The recommended Unity build, per the above "install the tools" is Unity 2018.3, which will become the LTS release for Unity 2018.</span></span>  <span data-ttu-id="05a50-130">此外，MRTK v2 將一律保證 Unity 2018 LTS 支援，但不是一定保證支援 Unity 的每個反覆項目 2019.x。</span><span class="sxs-lookup"><span data-stu-id="05a50-130">Further, the MRTK v2 will always guarantee support for Unity 2018 LTS but not necessarily guarantee support for every iteration of Unity 2019.x.</span></span> 

<span data-ttu-id="05a50-131">若要協助釐清其他差異 Unity 2018.3.x 或 Unity 2019.1.x，兩者的精確度所能夠編譯適用於 ARM64 Unity 2019 中的主要差異的外框取捨之間下列兩個版本，如下。</span><span class="sxs-lookup"><span data-stu-id="05a50-131">To help clarify additional differences between Unity 2018.3.x or Unity 2019.1.x, below outlines the trade-offs between these two versions, with the primary difference of significance being the ability to compile for ARM64 in Unity 2019.</span></span> 

<span data-ttu-id="05a50-132">開發人員應該評估任何[外掛程式相依性](https://docs.unity3d.com/Manual/Plugins.html)目前存在於其專案和這些 Dll 是否可以建置適用於 ARM64。</span><span class="sxs-lookup"><span data-stu-id="05a50-132">Developers should assess any [plugin dependencies](https://docs.unity3d.com/Manual/Plugins.html) that currently exist in their project and whether or not these DLLs can be built for ARM64.</span></span> <span data-ttu-id="05a50-133">如果無法建立硬式相依性外掛程式適用於 ARM64，則一個必須利用 Unity 2018 LTS。</span><span class="sxs-lookup"><span data-stu-id="05a50-133">If a hard dependency plugin cannot be built for ARM64, then one will have to utilize Unity 2018 LTS.</span></span>


| <span data-ttu-id="05a50-134">Unity 2018.3.x</span><span class="sxs-lookup"><span data-stu-id="05a50-134">Unity 2018.3.x</span></span> | <span data-ttu-id="05a50-135">Unity 2019.1 +</span><span class="sxs-lookup"><span data-stu-id="05a50-135">Unity 2019.1+</span></span> |
|----------|-------------------|
| <span data-ttu-id="05a50-136">ARM32 組建支援</span><span class="sxs-lookup"><span data-stu-id="05a50-136">ARM32 build support</span></span> | <span data-ttu-id="05a50-137">ARM32 及 ARM64 建置支援</span><span class="sxs-lookup"><span data-stu-id="05a50-137">ARM32 and ARM64 build support</span></span> |
| <span data-ttu-id="05a50-138">穩定的 LTS 建立發行</span><span class="sxs-lookup"><span data-stu-id="05a50-138">Stable LTS build release</span></span> | <span data-ttu-id="05a50-139">Beta 穩定性</span><span class="sxs-lookup"><span data-stu-id="05a50-139">Beta stability</span></span> |
| <span data-ttu-id="05a50-140">[編寫.NET 指令碼的後端](https://docs.unity3d.com/Manual/windowsstore-dotnet.html)*已被取代*</span><span class="sxs-lookup"><span data-stu-id="05a50-140">[.NET Scripting back-end](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) *deprecated*</span></span> | <span data-ttu-id="05a50-141">[編寫.NET 指令碼的後端](https://docs.unity3d.com/Manual/windowsstore-dotnet.html)*移除*</span><span class="sxs-lookup"><span data-stu-id="05a50-141">[.NET Scripting back-end](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) *removed*</span></span> |
| <span data-ttu-id="05a50-142">UNET 網路*已被取代*</span><span class="sxs-lookup"><span data-stu-id="05a50-142">UNET Networking *deprecated*</span></span> | <span data-ttu-id="05a50-143">UNET 網路*移除*</span><span class="sxs-lookup"><span data-stu-id="05a50-143">UNET Networking *removed*</span></span> |

## <a name="update-sceneproject-settings-in-unity"></a><span data-ttu-id="05a50-144">更新 Unity 中的場景/專案設定</span><span class="sxs-lookup"><span data-stu-id="05a50-144">Update scene/project settings in Unity</span></span>

<span data-ttu-id="05a50-145">更新至 Unity 之後 2018.3.x 或 Unity 2019 +，建議您更新在 Unity 中為裝置上獲得最佳結果的特定設定。</span><span class="sxs-lookup"><span data-stu-id="05a50-145">After updating to Unity 2018.3.x or Unity 2019+, it is recommended to update particular settings in Unity for optimal results on device.</span></span> <span data-ttu-id="05a50-146">這些設定所述在詳細資料 **[for Unity 建議設定](Recommended-settings-for-Unity.md)**。</span><span class="sxs-lookup"><span data-stu-id="05a50-146">These settings are outlined in detail under **[Recommended settings for Unity](Recommended-settings-for-Unity.md)**.</span></span>

<span data-ttu-id="05a50-147">它應該是重新反覆執行的[.NET 指令碼的後端](https://docs.unity3d.com/Manual/windowsstore-dotnet.html)遭到非難 Unity 2018 和*移除*中 Unity 2019，因此開發人員應該慎重考慮其專案切換至[IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html)。</span><span class="sxs-lookup"><span data-stu-id="05a50-147">It should be re-iterated that the [.NET Scripting back-end](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) is being deprecated in Unity 2018 and *removed* in Unity 2019 and thus, developers should strongly consider switching their project over to [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span></span> 

> [!NOTE]
> <span data-ttu-id="05a50-148">IL2CPP 指令碼的後端可能會造成更長的建置時間從 Unity Visual studio，因此開發人員應該會設定為其開發人員電腦[最佳化 IL2CPP 建置時間](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html)。</span><span class="sxs-lookup"><span data-stu-id="05a50-148">IL2CPP scripting back-end can cause longer build times from Unity to Visual Studio and thus developers should setup their developer machine for [optimizing IL2CPP build times](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html).</span></span>

<span data-ttu-id="05a50-149">移至已更新的 Unity 版本之後解決任何重大變更之後，開發人員應該建置並測試 HoloLens 上其目前的應用程式 （第 1 代）。</span><span class="sxs-lookup"><span data-stu-id="05a50-149">After addressing any breaking changes after moving to the updated Unity version, developers should build and test their current apps on HoloLens (1st gen).</span></span> <span data-ttu-id="05a50-150">此外，這是建立並儲存原始檔控制認可的好時機。</span><span class="sxs-lookup"><span data-stu-id="05a50-150">Further, this is a good point to create and save a commit for source control.</span></span> 

## <a name="compile-dependenciesplugins-for-arm-processor"></a><span data-ttu-id="05a50-151">編譯為 ARM 處理器的相依性/外掛程式</span><span class="sxs-lookup"><span data-stu-id="05a50-151">Compile dependencies/plugins for ARM processor</span></span>

<span data-ttu-id="05a50-152">HoloLens （第 1 代） x86 上執行應用程式時為新的 HoloLens 2 裝置利用 ARM 處理器的處理器。</span><span class="sxs-lookup"><span data-stu-id="05a50-152">HoloLens (1st gen) executed applications on an x86 processor while the new HoloLens 2 device utilizes an ARM processor.</span></span> <span data-ttu-id="05a50-153">因此，現有的應用程式需要支援 ARM 直接移植。</span><span class="sxs-lookup"><span data-stu-id="05a50-153">Thus, existing applications need to be ported over to support ARM.</span></span> <span data-ttu-id="05a50-154">如先前所述，Unity 2018 支援 Unity 2019 + 支援 ARM64 應用程式編譯時，針對 ARM32 應用程式進行編譯。</span><span class="sxs-lookup"><span data-stu-id="05a50-154">As noted earlier, Unity 2018 supports compiling for ARM32 apps while Unity 2019+ supports compiling for ARM64 apps.</span></span> <span data-ttu-id="05a50-155">ARM64 應用程式開發是通常慣用，因為效能的材質差異。</span><span class="sxs-lookup"><span data-stu-id="05a50-155">Developing for ARM64 applications is generally preferred as there is a material difference in performance.</span></span> <span data-ttu-id="05a50-156">不過，這需要所有[外掛程式相依性](https://docs.unity3d.com/Manual/Plugins.html)也要建置適用於 ARM64。</span><span class="sxs-lookup"><span data-stu-id="05a50-156">However, this requires all [plugin dependencies](https://docs.unity3d.com/Manual/Plugins.html) to also be built for ARM64.</span></span> 

<span data-ttu-id="05a50-157">目前，請檢閱您的應用程式中的所有 DLL 相依性。</span><span class="sxs-lookup"><span data-stu-id="05a50-157">Review all DLL dependencies in your application currently.</span></span> <span data-ttu-id="05a50-158">如果不再需要的相依性，則建議您從專案中移除。</span><span class="sxs-lookup"><span data-stu-id="05a50-158">If a dependency is no longer needed, it is advisable to remove it from your project.</span></span> <span data-ttu-id="05a50-159">其餘所需的外掛程式，嵌入您的 Unity 專案中的個別 ARM32 或 ARM64 二進位碼檔案。</span><span class="sxs-lookup"><span data-stu-id="05a50-159">For remaining plugins that are required, ingest the respective ARM32 or ARM64 binaries into your Unity project.</span></span> 

<span data-ttu-id="05a50-160">之後擷取相關的 Dll，從 Unity 建置 Visual Studio 方案，並再編譯來測試可以針對 ARM 處理器建置您的應用程式的 Visual Studio 中的 ARM 的 AppX。</span><span class="sxs-lookup"><span data-stu-id="05a50-160">After ingesting the relevant DLLs, build a Visual Studio solution from Unity and then compile an AppX for ARM in Visual Studio to test that your application can be built for ARM processors.</span></span> <span data-ttu-id="05a50-161">它會建議儲存在您的原始檔控制解決方案中的認可此另一個點。</span><span class="sxs-lookup"><span data-stu-id="05a50-161">This another point where it is advised to save a commit in your source control solution.</span></span> 

## <a name="update-to-mrtk-version-2"></a><span data-ttu-id="05a50-162">更新至 MRTK 第 2 版</span><span class="sxs-lookup"><span data-stu-id="05a50-162">Update to MRTK version 2</span></span>

<span data-ttu-id="05a50-163">MRTK 第 2 版是新的工具組，在 Unity 支援這兩個 HoloLens 之上 （第 1 代） 和 HoloLens 2 和其中的所有新的 HoloLens 2 功能已新增，這類交給互動和追蹤。</span><span class="sxs-lookup"><span data-stu-id="05a50-163">MRTK version 2 is the new toolkit on top of Unity supporting both HoloLens (1st gen) and HoloLens 2, and where all of the new HoloLens 2 capabilities have been added, such as hand interactions and eye tracking.</span></span>

### <a name="prepare-for-the-migration"></a><span data-ttu-id="05a50-164">為移轉做準備</span><span class="sxs-lookup"><span data-stu-id="05a50-164">Prepare for the migration</span></span>

<span data-ttu-id="05a50-165">之前擷取的新[\*.unitypackage 檔案 MRTK v2](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases)，建議您使用清查**MRTK v1 與整合，1） 任何自訂程式碼**和**2） 任何自訂程式碼輸入的互動或 UX 元件**。</span><span class="sxs-lookup"><span data-stu-id="05a50-165">Before ingesting the new [\*.unitypackage files for MRTK v2](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases), it is recommended to take an inventory of **1) any custom-built code that integrates with MRTK v1** and **2) any custom-built code for input interactions or UX components**.</span></span> <span data-ttu-id="05a50-166">最常見也太普遍了衝突的內嵌新 MRTK v2 Mixed Reality 開發人員會需要輸入和互動。</span><span class="sxs-lookup"><span data-stu-id="05a50-166">The most common and prevalent conflict for a Mixed Reality developer ingesting the new MRTK v2 will involve input and interactions.</span></span> <span data-ttu-id="05a50-167">因此，建議您開始閱讀和理解[MRTK v2 輸入的模型](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/Overview.html)。</span><span class="sxs-lookup"><span data-stu-id="05a50-167">Thus, it is advised to begin reading and understanding the [MRTK v2 input model](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/Overview.html).</span></span>

<span data-ttu-id="05a50-168">最後，新的 MRTK v2 已從模型的指令碼和管理員場景中物件轉換為組態和服務提供者架構。</span><span class="sxs-lookup"><span data-stu-id="05a50-168">Finally, the new MRTK v2 has transitioned from a model of scripts and in-scene manager objects to a configuration and services provider architecture.</span></span> <span data-ttu-id="05a50-169">這會導致更簡潔的場景階層和架構模型，但了解新的組態設定檔需要依照學習曲線。</span><span class="sxs-lookup"><span data-stu-id="05a50-169">This results in a cleaner scene hierarchy and architecture model but requires a learning curve for understanding the new configuration profiles.</span></span> <span data-ttu-id="05a50-170">因此，請閱讀[混合實境工具組組態指南](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/MixedRealityConfigurationGuide.html)開始著手了解的重要設定和設定檔，以您的應用程式的需求進行調整。</span><span class="sxs-lookup"><span data-stu-id="05a50-170">Thus, please read the [Mixed Reality Toolkit Configuration Guide](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/MixedRealityConfigurationGuide.html) to start becoming familiar with the important settings and profiles to adjust to the needs of your application.</span></span> 

### <a name="perform-the-migration"></a><span data-ttu-id="05a50-171">執行移轉</span><span class="sxs-lookup"><span data-stu-id="05a50-171">Perform the migration</span></span>

<span data-ttu-id="05a50-172">匯入之後 MRTK v2，您的 Unity 專案可能會有許多編譯器相關的錯誤。</span><span class="sxs-lookup"><span data-stu-id="05a50-172">After importing MRTK v2, your Unity project will likely have many compiler related errors.</span></span> <span data-ttu-id="05a50-173">這些通常是因為新的命名空間的結構與新的元件名稱。</span><span class="sxs-lookup"><span data-stu-id="05a50-173">These are most commonly due to the new namespace structure and new component names.</span></span> <span data-ttu-id="05a50-174">請繼續進行修改您的指令碼至新的命名空間和元件來解決這些錯誤。</span><span class="sxs-lookup"><span data-stu-id="05a50-174">Proceed to resolve these errors by modifying your scripts to the new namespaces and components.</span></span> 

<span data-ttu-id="05a50-175">如需有關特定 HTK/MRTK 之間 MRTK 第 2 版的 API 差異的詳細資訊，請參閱 < 移植指南上[MRTK 第 2 版 wiki](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/HTKToMRTKPortingGuide.html)。</span><span class="sxs-lookup"><span data-stu-id="05a50-175">For more information on specific API differences between HTK/MRTK and MRTK version 2, see the porting guide on the [MRTK Version 2 wiki](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/HTKToMRTKPortingGuide.html).</span></span>

### <a name="best-practices"></a><span data-ttu-id="05a50-176">最佳作法</span><span class="sxs-lookup"><span data-stu-id="05a50-176">Best practices</span></span>

- <span data-ttu-id="05a50-177">偏好使用 MRTK 標準的著色器</span><span class="sxs-lookup"><span data-stu-id="05a50-177">Prefer use of the MRTK Standard shader</span></span>
- <span data-ttu-id="05a50-178">上一個重大的工作一次變更型別 (例如：若要 IMixedRealityFocusHandler IFocusable)</span><span class="sxs-lookup"><span data-stu-id="05a50-178">Work on one breaking change type at a time (ex: IFocusable to IMixedRealityFocusHandler)</span></span>
- <span data-ttu-id="05a50-179">測試每次變更之後，並利用原始檔控制</span><span class="sxs-lookup"><span data-stu-id="05a50-179">Test after every change and utilize source control</span></span>
- <span data-ttu-id="05a50-180">使用預設值 （按鈕、 靜態圖像等等） 的 MRTK UX 盡可能</span><span class="sxs-lookup"><span data-stu-id="05a50-180">Use default MRTK UX (buttons, slates, etc) when possible</span></span>
- <span data-ttu-id="05a50-181">若要避免直接修改 MRTK 檔案嘗試，請改為建立 MRTK 元件包裝函式</span><span class="sxs-lookup"><span data-stu-id="05a50-181">Try to refrain from modifying MRTK files directly, instead create wrappers around MRTK components</span></span>
    - <span data-ttu-id="05a50-182">這會防止未來 MRTK ingestions 和更新</span><span class="sxs-lookup"><span data-stu-id="05a50-182">This will protect against future MRTK ingestions and updates</span></span>
- <span data-ttu-id="05a50-183">檢閱和探索 MRTK 中提供的範例場景 (特別*HandInteractionExamples.scene*)</span><span class="sxs-lookup"><span data-stu-id="05a50-183">Review & explore sample scenes provided in MRTK (especially *HandInteractionExamples.scene*)</span></span>
- <span data-ttu-id="05a50-184">相反地重建四邊形、 colliders 與 TextMeshPro 文字畫布為基礎的 UI</span><span class="sxs-lookup"><span data-stu-id="05a50-184">Rebuild canvas-based UI with quads, colliders and TextMeshPro text instead</span></span>

### <a name="testing-your-application"></a><span data-ttu-id="05a50-185">測試您的應用程式</span><span class="sxs-lookup"><span data-stu-id="05a50-185">Testing your application</span></span>

<span data-ttu-id="05a50-186">既然 HoloLens 2 元件與功能有 MRTK 第 2 版的[RC1](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases/tag/v2.0.0-RC1)，您可以模擬手動互動，直接在 Unity 中，並根據手動互動和追蹤的新 Api 進行開發。</span><span class="sxs-lookup"><span data-stu-id="05a50-186">Now that HoloLens 2 components and capabilities are available in MRTK version 2, as of [RC1](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases/tag/v2.0.0-RC1), you can simulate the hand interactions directly in Unity, and develop against the new APIs for hand interactions and eye tracking.</span></span>  <span data-ttu-id="05a50-187">HoloLens 2 裝置，才能建立絕佳的體驗，但至少一個無法開始學習的工具和文件。</span><span class="sxs-lookup"><span data-stu-id="05a50-187">The HoloLens 2 device is required to create a great experience, but at least one could start learning in the tools and documentation.</span></span> <span data-ttu-id="05a50-188">此外，MRTK v2 支援在 HoloLens 上的開發 （第 1 代） 和傳統的輸入因此，模型例如透過空中點選選取的類型仍 HoloLens 上測試工作流程 （第 1 代） 裝置。</span><span class="sxs-lookup"><span data-stu-id="05a50-188">Further, MRTK v2 supports development on HoloLens (1st gen) and thus, traditional input models such as select via air-tap can still be tested on HoloLens (1st gen) devices.</span></span> 

## <a name="updating-interaction-model-for-hololens-2"></a><span data-ttu-id="05a50-189">HoloLens 2 更新互動模型</span><span class="sxs-lookup"><span data-stu-id="05a50-189">Updating interaction model for HoloLens 2</span></span>

<span data-ttu-id="05a50-190">您的應用程式移植，並備妥可供 HoloLens 2 之後，您已準備好，請考慮更新您的互動模型和全像設計/放置。</span><span class="sxs-lookup"><span data-stu-id="05a50-190">Once you have your app ported and prepped for HoloLens 2, you are ready to consider updating your interaction model and hologram designs/placement.</span></span>
<span data-ttu-id="05a50-191">來自 HoloLens （第 1 代），您的應用程式可能有視線和認可互動模型，以全像投影相對很遠的地方而無法放入檢視欄位。</span><span class="sxs-lookup"><span data-stu-id="05a50-191">Coming from HoloLens (1st gen), your app likely has a gaze and commit interaction model, with holograms relatively far away to fit into the field of view.</span></span>

<span data-ttu-id="05a50-192">若要更新您的應用程式的設計最適合 HoloLens 2 的步驟：</span><span class="sxs-lookup"><span data-stu-id="05a50-192">Steps to update your app design to be best for HoloLens 2:</span></span>
1.  <span data-ttu-id="05a50-193">MRTK 元件：每個前的工作，如果您已新增 MRTK v2 中，有各種元件/的指令碼運用設計及最佳化 HoloLens 2。</span><span class="sxs-lookup"><span data-stu-id="05a50-193">MRTK components: Per the pre-work, if you added MRTK v2, there are various components/scripts to leverage that have been designed and optimized for HoloLens 2.</span></span>

2.  <span data-ttu-id="05a50-194">互動模型：請考慮更新您的互動模型。</span><span class="sxs-lookup"><span data-stu-id="05a50-194">Interaction model: Consider updating your interaction model.</span></span>  <span data-ttu-id="05a50-195">大部分的情況下，我們建議從視線切換，並認可至實際操作。</span><span class="sxs-lookup"><span data-stu-id="05a50-195">For most scenarios, we recommend switching from gaze and commit to hands.</span></span>  <span data-ttu-id="05a50-196">使用全像通常要從手臂觸達您投影，切換到實際操作將導致遠互動指標光線並抓取筆勢。</span><span class="sxs-lookup"><span data-stu-id="05a50-196">With your holograms typically being out of arms reach, switching to hands will result in far interaction pointing rays and grab gestures.</span></span>
<span data-ttu-id="05a50-197">注意： 在無互動模型是必要項目，例如任務型工作者保存工具，並沒有特定設計指導方針，這種情況下。</span><span class="sxs-lookup"><span data-stu-id="05a50-197">Note: there are scenarios where a hands-free interaction model is required, such as a task worker holding tools, and there is specific design guidance for such cases.</span></span> 

3.  <span data-ttu-id="05a50-198">全像位置：之後切換到實際操作互動模型，請考慮直接互動與您的手裡，互動抓取筆勢附近使用全像投影更接近移動某些全像投影。</span><span class="sxs-lookup"><span data-stu-id="05a50-198">Hologram placement: After switching to a hands interaction model, consider moving some holograms closer to directly interact with the holograms with your hands, using near interaction grab gestures.</span></span>  <span data-ttu-id="05a50-199">建議您移近一點來直接擷取或互動全像投影的類型是小型的目標功能表、 控制項、 按鈕和較小全像保留可容納在 HoloLens 2 檢視欄位時擷取並檢查全像投影。</span><span class="sxs-lookup"><span data-stu-id="05a50-199">The types of holograms recommended to move closer to directly grab or interact are small target menus, controls, buttons, and smaller holograms that fit within the HoloLens 2 field of view when grabbing and inspecting the hologram.</span></span>
<br>
<span data-ttu-id="05a50-200">每個應用程式和案例不同，而我們將持續改善，並張貼設計指引根據意見反應，並繼續所獲得的經驗。</span><span class="sxs-lookup"><span data-stu-id="05a50-200">Every app and scenario is different, and we’ll continue to refine and post design guidance based on feedback and continued learnings.</span></span>


## <a name="additional-learnings-from-moving-apps-from-x86-to-arm"></a><span data-ttu-id="05a50-201">其他學習，無法從 x86 的應用程式移至 ARM</span><span class="sxs-lookup"><span data-stu-id="05a50-201">Additional learnings from moving apps from x86 to ARM</span></span>

- <span data-ttu-id="05a50-202">直線的 Unity 應用程式很簡單，因為您可以建立的 ARM appx 套件組合，或直接部署至裝置，並執行。</span><span class="sxs-lookup"><span data-stu-id="05a50-202">Straight Unity apps are simple as you can build an ARM appx bundle or deploy directly to the device and it runs.</span></span>
<span data-ttu-id="05a50-203">所面臨的挑戰來自 Unity 應用程式中使用原生的外掛程式。</span><span class="sxs-lookup"><span data-stu-id="05a50-203">The challenge comes when the Unity app uses native plugins.</span></span>  <span data-ttu-id="05a50-204">所有的原生的外掛程式必須升級至 VS2017 及重新建置針對 ARM，並使用 Unity 2019，ARM64。</span><span class="sxs-lookup"><span data-stu-id="05a50-204">All of the native plugins need to be upgraded to VS2017 and rebuilt for ARM, and with Unity 2019, ARM64.</span></span>

- <span data-ttu-id="05a50-205">一個應用程式，使用 Unity AudioKinetic Wwise 外掛程式，並使用的版本沒有 UWP ARM 外掛程式。</span><span class="sxs-lookup"><span data-stu-id="05a50-205">One app, used the AudioKinetic Wwise plugin for Unity, and the version used didn’t have a UWP ARM plugin.</span></span> <span data-ttu-id="05a50-206">花費數天的重新處理要在 ARM 上運作的應用程式中的音效。</span><span class="sxs-lookup"><span data-stu-id="05a50-206">It took several days to re-work the sound in the application to work on ARM.</span></span>

- <span data-ttu-id="05a50-207">在其他情況下，UWP/ARM 外掛程式可能不存在的應用程式所需的外掛程式，封鎖連接埠和 HoloLens 2 上執行的能力。</span><span class="sxs-lookup"><span data-stu-id="05a50-207">In other cases, a UWP/ARM plugin may not exist for app-required plugins, blocking the ability to port and run on HoloLens 2.</span></span>  <span data-ttu-id="05a50-208">Engagement 使用外掛程式提供者可能需要解除封鎖，並支援 ARM。</span><span class="sxs-lookup"><span data-stu-id="05a50-208">Engagement with the plugin provider may be needed to unblock and support ARM.</span></span>

- <span data-ttu-id="05a50-209">Minfloat （和變數，例如 min16float、 minint、 等），在著色器的行為可能會比在 HoloLens 的 HoloLen 2 （第 1 代）。</span><span class="sxs-lookup"><span data-stu-id="05a50-209">The minfloat (and variants such as min16float, minint, etc…) in shaders may behave differently on HoloLen 2 than on HoloLens (1st gen).</span></span> <span data-ttu-id="05a50-210">具體來說，這些保證 「 至少指定將使用的位元數 」。</span><span class="sxs-lookup"><span data-stu-id="05a50-210">Specifically, these guarantee that “at least the specified number of bits will be used”.</span></span> <span data-ttu-id="05a50-211">在 Intel/Nvidia Gpu 上這些多半只被被當做 32 位元。</span><span class="sxs-lookup"><span data-stu-id="05a50-211">On Intel/Nvidia GPUs, these are largely just treated as 32 bits.</span></span> <span data-ttu-id="05a50-212">在 ARM，實際上會遵守所指定的位元數。</span><span class="sxs-lookup"><span data-stu-id="05a50-212">On ARM, the number of bits specified is actually respected.</span></span> <span data-ttu-id="05a50-213">這表示，在實務上，這些數字可能會有較少有效位數/範圍 HoloLens 2 比起原先 HoloLens （第 1 代）。</span><span class="sxs-lookup"><span data-stu-id="05a50-213">That means that in practice, these numbers may have less precision/range on HoloLens 2 than they did on HoloLens (1st gen).</span></span>

- <span data-ttu-id="05a50-214">_Asm 指示不會出現在 ARM 中，這表示任何使用 _asm 指示程式碼將會需要重寫上運作。</span><span class="sxs-lookup"><span data-stu-id="05a50-214">The _asm instructions don’t appear to work on ARM, meaning any code using _asm instructions will have to be rewritten.</span></span>

- <span data-ttu-id="05a50-215">在 ARM 上不支援 SIMD 指令集。</span><span class="sxs-lookup"><span data-stu-id="05a50-215">The SIMD instruction set is not supported on ARM.</span></span> <span data-ttu-id="05a50-216">這表示各種的標頭，例如 xmmintrin.h、 emmintrin.h、 tmmintrin.h 和 immintrin.h> 並不適用於 ARM。</span><span class="sxs-lookup"><span data-stu-id="05a50-216">This means various headers, such as xmmintrin.h, emmintrin.h, tmmintrin.h, and immintrin.h are not available on ARM.</span></span>

- <span data-ttu-id="05a50-217">在 ARM 執行期間第一次的繪製呼叫之後已載入著色器，或項目著色器依賴著色器編譯器已變更，不是在著色器載入時間。</span><span class="sxs-lookup"><span data-stu-id="05a50-217">The shader compiler on ARM runs during the first draw call after the shader has been loaded or something the shader relies on has changed, not at shader load time.</span></span> <span data-ttu-id="05a50-218">對畫面播放速率的影響可以是非常值得注意，視需要進行編譯多少的著色器而定。</span><span class="sxs-lookup"><span data-stu-id="05a50-218">The impact on framerate can be very noticeable, depending on how many shaders need to be compiled.</span></span> <span data-ttu-id="05a50-219">這有各種不同的含意的著色器應如何處理/封裝/更新以不同的方式在 HoloLens 2 vs HoloLens 上 （第 1 代）。</span><span class="sxs-lookup"><span data-stu-id="05a50-219">This has various implications for how shaders should be handled/packaged/updated differently on HoloLens 2 vs HoloLens (1st gen).</span></span>

## <a name="see-also"></a><span data-ttu-id="05a50-220">另請參閱</span><span class="sxs-lookup"><span data-stu-id="05a50-220">See also</span></span>
* [<span data-ttu-id="05a50-221">開始使用 MRTK 第 2 版</span><span class="sxs-lookup"><span data-stu-id="05a50-221">Getting started with MRTK version 2</span></span>](mrtk-getting-started.md)
* [<span data-ttu-id="05a50-222">MRTK 第 2 版如何</span><span class="sxs-lookup"><span data-stu-id="05a50-222">MRTK Version 2 HowTo</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/External/HowTo/README.html)
* [<span data-ttu-id="05a50-223">安裝工具</span><span class="sxs-lookup"><span data-stu-id="05a50-223">Install the tools</span></span>](install-the-tools.md)
* [<span data-ttu-id="05a50-224">Unity 的建議設定</span><span class="sxs-lookup"><span data-stu-id="05a50-224">Recommended settings for Unity</span></span>](recommended-settings-for-unity.md)
* [<span data-ttu-id="05a50-225">了解效能 for Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="05a50-225">Understanding performance for Mixed Reality</span></span>](understanding-performance-for-mixed-reality.md)

